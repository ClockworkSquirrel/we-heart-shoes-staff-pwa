{"version":3,"sources":["stores/ephemeralStore.jsx","components/header-search-input.jsx","components/header.jsx","components/scanner-modal.jsx","components/centre-spinner.jsx","components/home-fab.jsx","serviceWorker.js","components/service-worker.jsx","stores/persistentStore.jsx","components/history-list.jsx","components/setup-till-card-dialogue.jsx","components/till-card.jsx","views/index.jsx","hooks/useAPI.jsx","components/product-stock-size.jsx","components/product-stock.jsx","views/product.jsx","components/app.jsx","index.js"],"names":["EphemeralStore","store","fflags","scanOpen","tillCardDialogueOpen","fetchNearestStore","_fetchNearestStore","Object","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","abrupt","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","enableHighAccuracy","then","coords","latitude","longitude","lat","lon","fetch","concat","config","endpoints","api","res","json","result","name","storeName","id","storeId","catch","err","error","message","stop","apply","this","arguments","useStyles","makeStyles","theme","root","width","margin","spacing","codeInputBox","borderRadius","shape","& input::-webkit-outer-spin-button, input::-webkit-inner-spin-button","WebkitAppearance","view","_useState","useState","_useState2","slicedToArray","styleCode","setStyleCode","classes","history","useHistory","react_default","createElement","className","onSubmit","evt","preventDefault","style","trim","replace","length","substr","push","FormControl","variant","fullWidth","InputLabel","htmlFor","FilledInput","type","min","process","REACT_APP_MIN_PRODUCT_CODE","max","REACT_APP_MAX_PRODUCT_CODE","endAdornment","InputAdornment","position","Tooltip","title","arrow","IconButton","aria-label","edge","onClick","FilterCenterFocus_default","disableUnderline","autoComplete","onInput","target","value","display","alignItems","justifyContent","flexDirection","headerTitle","fontWeight","typography","fontWeightBold","color","palette","primary","main","fontSize","headerTitleLink","textDecoration","headerStoreInfo","textTransform","grey","useEffect","react_router_dom","to","Typography","component","Favorite_default","header_search_input","modalContainer","padding","maxWidth","modalPaper","outline","flexGrow","& video","marginBottom","onModalCloseHandler","lastScannedCode","setLastScannedCode","location","search","Modal","open","onClose","BackdropComponent","Backdrop","Grow","in","Paper","dist_default","height","onUpdate","_result$text","fullBarcode","text","CentreSpinner","props","CircularProgress","assign","bottom","right","HomeFAB","pathname","useLocation","placement","Fab","Link","History_default","isLocalhost","Boolean","window","hostname","match","register","URL","href","origin","addEventListener","swUrl","headers","Service-Worker","response","contentType","get","status","indexOf","serviceWorker","ready","registration","unregister","reload","registerValidSW","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","state","controller","onSuccess","console","ServiceWorker","showReload","setShowReload","_useState3","_useState4","updatedWorker","setUpdatedWorker","onServiceWorkerUpdated","waiting","waitingWorker","Snackbar","action","Button","size","postMessage","TransitionComponent","Slide","savedState","JSON","parse","localStorage","getItem","PersistentStore","data","objectSpread2","tillCardId","pushHistory","_pushHistory","productInfo","_productInfo$offers","matchedIndex","idx","updatedProductInfo","undefined","t0","keys","t1","done","StyleCode","Name","Price","price","current","Currency","currency","Thumbnail","thumbnail","Offers","offers","unshift","splice","historyMaxItems","pop","_x","clearHistory","_clearHistory","_callee2","_context2","setTillCard","_setTillCard","_callee3","_context3","_x2","autoEffect","setItem","stringify","productCard","backgroundColor","maxHeight","cardRoot","cardThumb","flexShrink","cardContent","overflow","cardTitle","textOverflow","whiteSpace","cardStyleCode","marginTop","cardOffers","cardPrice","fontWeightRegular","miniInfo","flexSpacer","Grid","container","map","product","_product$Offers","item","xs","key","Card","elevation","CardActionArea","CardMedia","image","CardContent","offer","_offer$abbr","abbr","dimmedButton","deleteIcon","marginRight","confirmButton","tillCardCode","setTillCardCode","useTheme","dialogueFullscreen","useMediaQuery","breakpoints","only","onDialogueDismissed","onSubmitChanges","Store","Dialog","fullScreen","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","label","helperText","defaultValue","onChange","onKeyPress","DialogActions","clsx","Delete_default","sectionHeader","tillCardHeader","sectionMainContent","background","paper","borderTop","divider","borderBottom","alignSelf","contentContainer","setupButton","& *.tcqr-cell-filled","fill","& *.tcqr-cell-empty","[object Object]","tillCardCodeText","onSetupButtonClicked","Edit_default","Fragment","dist_modules","cellClassPrefix","CreditCard_default","setup_till_card_dialogue","historyHeader","historyClearText","historyClearButton","clear","historyLength","Helmet","till_card","ButtonBase","toLocaleString","history_list","useAPI","path","options","setData","loading","setLoading","_useState5","_useState6","hasError","setError","_err$message","finally","sizeCard","default","cardMain","cardSize","marginLeft","cardSizePrimary","cardSizeText","getContrastText","verticalAlign","cardSizeTextPrimary","storeStockText","onlineStockText","SizeGuide","letter","equiv","gender","eu","uk","category","autoCheck","useIcon","_category$","_category$$","_category$2","_category$2$","_size$stock$warehouse","_EphemeralStore$store","inStock","setInStock","isLoading","stockRequested","setRequested","_useState7","_useState8","checkForStock","REACT_APP_API_URL","code","sizeType","Number","determineSizeType","sizeTooltipContent","_ref","_matchedSize$","euSize","Math","floor","matchedSize","filter","euSizeToUK","toUpperCase","_SizeGuide$letter$fil","_SizeGuide$letter$fil2","_SizeGuide$letter$fil3","valSize","valGend","letterSizeToRange","useLayoutEffect","centre_spinner","Done_default","Close_default","Help_default","stock","warehouse","ProductStock","_ref$styleCode","_ref$sizeRange","sizeRange","_ref$category","objectWithoutProperties","product_stock_size","prodTitle","categoriesContainer","catBreadcrumbs","catCrumb","disabled","priceText","coverImage","border","productThumb","fabCoverImage","stockSizeContainer","offersContainer","top","left","offerIcon","productDescription","useParams","_useAPI","_useAPI2","info","Alert","severity","AlertTitle","Breadcrumbs","separator","NavigateNext_default","_info$categories","categories","_info$price","_info$offers","src","alt","ShoppingCart_default","description","product_stock","_info$categories2","defaultTheme","createMuiTheme","fontFamily","geoError","_EphemeralStore$store2","CssBaseline","titleTemplate","defaultTitle","ThemeProvider","header","toLowerCase","react_router","exact","HomeView","ProductView","home_fab","scanner_modal","service_worker","ReactDOM","render","StrictMode","app","document","querySelector"],"mappings":"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","file":"static/js/main.283b26ac.chunk.js","sourcesContent":["import { store } from \"@risingstack/react-easy-state\"\r\nimport config from \"../config.json\"\r\n\r\nconst getGeoCoords = () => new Promise((resolve, reject) => {\r\n    if (!navigator.geolocation)\r\n        return reject(\"Geolocation API is not supported\")\r\n\r\n    navigator.geolocation.getCurrentPosition(resolve, reject, {\r\n        enableHighAccuracy: false\r\n    })\r\n}).then(({ coords: { latitude, longitude } }) => ({\r\n    lat: latitude,\r\n    lon: longitude\r\n}))\r\n\r\nconst EphemeralStore = store({\r\n    store: {},\r\n    fflags: {},\r\n\r\n    scanOpen: false,\r\n    tillCardDialogueOpen: false,\r\n\r\n    fetchNearestStore: async () => getGeoCoords().then(\r\n        ({ lat, lon }) => fetch(`${config.endpoints.api}/api/locate/?lat=${lat}&lon=${lon}`)\r\n    ).then(res => res.json()).then(({ result }) => {\r\n        EphemeralStore.store = {\r\n            name: result.storeName,\r\n            id: result.storeId\r\n        }\r\n    }).catch(err => {\r\n        EphemeralStore.store.error = err.message\r\n    })\r\n})\r\n\r\nexport default EphemeralStore\r\n","import React, { useState } from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport EphemeralStore from \"../stores/ephemeralStore\"\r\n\r\nimport { FormControl, InputLabel, FilledInput, InputAdornment, IconButton, Tooltip } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport ScanCodeIcon from \"@material-ui/icons/FilterCenterFocus\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: \"100%\",\r\n        margin: theme.spacing(3, 0)\r\n    },\r\n    codeInputBox: {\r\n        borderRadius: theme.shape.borderRadius,\r\n\r\n        \"& input::-webkit-outer-spin-button, input::-webkit-inner-spin-button\": {\r\n            WebkitAppearance: \"none\"\r\n        }\r\n    }\r\n}))\r\n\r\nconst HeaderSearchInput = () => {\r\n    const [ styleCode, setStyleCode ] = useState()\r\n    const classes = useStyles()\r\n    const history = useHistory()\r\n\r\n    const onSearchSubmit = evt => {\r\n        evt.preventDefault()\r\n\r\n        let style = styleCode.trim().replace(/[^\\d]/g, \"\")\r\n\r\n        if (!(style.length - 3 < 5))\r\n            style = style.substr(0, style.length - 3)\r\n\r\n        history.push(`/product/${style}`)\r\n    }\r\n\r\n    const onScanButtonClick = evt => {\r\n        evt.preventDefault()\r\n        EphemeralStore.scanOpen = true\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <form onSubmit={onSearchSubmit}>\r\n                <FormControl variant=\"filled\" fullWidth>\r\n                    <InputLabel htmlFor=\"product-code-search\">\r\n                        Product code\r\n                    </InputLabel>\r\n\r\n                    <FilledInput\r\n                        id=\"product-code-search\"\r\n                        type=\"number\"\r\n                        min={process.env.REACT_APP_MIN_PRODUCT_CODE}\r\n                        max={process.env.REACT_APP_MAX_PRODUCT_CODE}\r\n\r\n                        endAdornment={\r\n                            <InputAdornment position=\"end\">\r\n                                <Tooltip title=\"Scan a barcode\" arrow>\r\n                                    <IconButton\r\n                                        aria-label=\"Scan a barcode\"\r\n                                        edge=\"end\"\r\n                                        onClick={onScanButtonClick}\r\n                                    >\r\n                                        <ScanCodeIcon />\r\n                                    </IconButton>\r\n                                </Tooltip>\r\n                            </InputAdornment>\r\n                        }\r\n\r\n                        disableUnderline\r\n                        autoComplete=\"off\"\r\n                        className={classes.codeInputBox}\r\n\r\n                        onInput={\r\n                            ({ target: { value } }) => setStyleCode(value)\r\n                        }\r\n                    />\r\n                </FormControl>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default view(HeaderSearchInput)\r\n","import React, { useEffect } from \"react\"\r\n\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport EphemeralStore from \"../stores/ephemeralStore\"\r\n\r\nimport { Typography } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport HeartIcon from \"@material-ui/icons/Favorite\"\r\n\r\nimport HeaderSearchInput from \"./header-search-input\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        flexDirection: \"column\"\r\n    },\r\n    headerTitle: {\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        color: theme.palette.primary.main,\r\n        fontSize: \"1.71rem\"\r\n    },\r\n    headerTitleLink: {\r\n        textDecoration: \"none\"\r\n    },\r\n    headerStoreInfo: {\r\n        textTransform: \"uppercase\",\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        fontSize: \"0.85rem\",\r\n        color: theme.palette.grey[600]\r\n    }\r\n}))\r\n\r\nconst Header = () => {\r\n    const classes = useStyles()\r\n\r\n    useEffect(() => {\r\n        EphemeralStore.fetchNearestStore()\r\n    }, [])\r\n\r\n    return (\r\n        <header className={classes.root}>\r\n            <Link to=\"/\" className={classes.headerTitleLink}>\r\n                <Typography\r\n                    variant=\"h4\"\r\n                    component=\"h1\"\r\n                    className={classes.headerTitle}\r\n                >\r\n                    we<HeartIcon />shoes\r\n                </Typography>\r\n            </Link>\r\n\r\n            <Typography variant=\"body1\" component=\"p\" className={classes.headerStoreInfo}>\r\n                {\r\n                    EphemeralStore.store.error\r\n                        ? \"\"\r\n                        : EphemeralStore.store.name\r\n                            ? `${EphemeralStore.store.name} - ${EphemeralStore.store.id}`\r\n                            : \"Determining Location...\"\r\n                }\r\n            </Typography>\r\n\r\n            {\r\n                EphemeralStore.store.name\r\n                ? <HeaderSearchInput />\r\n                : \"\"\r\n            }\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default view(Header)\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport EphemeralStore from \"../stores/ephemeralStore\"\r\n\r\nimport { Modal, Paper, Backdrop, Grow } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport BarcodeScanner from \"react-webcam-barcode-scanner\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    modalContainer: {\r\n        padding: theme.spacing(2),\r\n        margin: `${theme.spacing(4)}px auto`,\r\n        maxWidth: 500\r\n    },\r\n    modalPaper: {\r\n        outline: 0,\r\n        flexGrow: 1,\r\n        width: \"100%\",\r\n        padding: theme.spacing(1),\r\n        borderRadius: theme.shape.borderRadius * 2,\r\n\r\n        \"& video\": {\r\n            marginBottom: theme.spacing(-1) + 1,\r\n            borderRadius: theme.shape.borderRadius\r\n        }\r\n    }\r\n}))\r\n\r\nconst ScannerModal = () => {\r\n    const classes = useStyles()\r\n    const history = useHistory()\r\n\r\n    const onModalCloseHandler = () => EphemeralStore.scanOpen = false\r\n\r\n    const [ lastScannedCode, setLastScannedCode ] = useState()\r\n    const onBarcodeScanned = (err, result) => {\r\n        if (err || !result) return\r\n\r\n        const fullBarcode = (result.text ?? \"\").trim().replace(/[^\\d]/g, \"\")\r\n        const styleCode = !(fullBarcode.length - 3 < 5) ? fullBarcode.substr(0, fullBarcode.length - 3) : fullBarcode\r\n\r\n        if (lastScannedCode === styleCode)\r\n            return onModalCloseHandler()\r\n\r\n        setLastScannedCode(styleCode)\r\n        onModalCloseHandler()\r\n\r\n        history.push(`/product/${styleCode}`)\r\n    }\r\n\r\n    /*\r\n        React will warn that EphemeralStore isn't a valid dependency, as outer-scope\r\n        values don't affect the re-rendering of a component; however, EphemeralStore\r\n        is part of the react-easy-state package, and stores a value which determines\r\n        whether the scanner modal is open or closed. Therefore, changes in\r\n        EphemeralStore *will* affect re-rendering of the comonent.\r\n    */\r\n\r\n    // eslint-disable-next-line\r\n    useEffect(() => setLastScannedCode(null), [ EphemeralStore.scanOpen ])\r\n\r\n    useEffect(() => {\r\n        const { search } = history.location\r\n\r\n        if (search === \"?scan\" && !EphemeralStore.scanOpen)\r\n            EphemeralStore.scanOpen = true\r\n    })\r\n\r\n    return (\r\n        <Modal\r\n            open={EphemeralStore.scanOpen}\r\n            onClose={onModalCloseHandler}\r\n            BackdropComponent={Backdrop}\r\n            className={classes.modalContainer}\r\n        >\r\n            <Grow in={EphemeralStore.scanOpen}>\r\n                <Paper className={classes.modalPaper}>\r\n                    <BarcodeScanner\r\n                        width=\"100%\"\r\n                        height=\"100%\"\r\n                        onUpdate={onBarcodeScanned}\r\n                    />\r\n                </Paper>\r\n            </Grow>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default view(ScannerModal)\r\n","import React from \"react\"\r\n\r\nimport { CircularProgress } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"block\",\r\n    margin: `${theme.spacing(3)}px auto`\r\n  }\r\n}))\r\n\r\nconst CentreSpinner = (...props) => {\r\n  const classes = useStyles()\r\n  return <CircularProgress className={classes.root} {...props} />\r\n}\r\n\r\nexport default CentreSpinner\r\n","import React from \"react\"\r\n\r\nimport { useLocation, Link } from \"react-router-dom\"\r\n\r\nimport { Fab, Tooltip, Grow } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport FabIcon from \"@material-ui/icons/History\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        position: \"fixed\",\r\n        bottom: theme.spacing(3),\r\n        right: theme.spacing(3)\r\n    }\r\n}))\r\n\r\nconst HomeFAB = () => {\r\n    const { pathname } = useLocation()\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <div>\r\n            <Grow\r\n                in={pathname !== \"/\"}\r\n                className={classes.root}\r\n            >\r\n                <Tooltip title=\"History\" placement=\"top\">\r\n                    <Fab\r\n                        color=\"primary\"\r\n                        aria-label=\"History\"\r\n                        component={Link}\r\n                        to=\"/\"\r\n                        className={classes.root}\r\n                    >\r\n                        <FabIcon />\r\n                    </Fab>\r\n                </Tooltip>\r\n            </Grow>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HomeFAB\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          // console.log(\r\n          //   'This web app is being served cache-first by a service ' +\r\n          //     'worker. To learn more, visit https://cra.link/PWA'\r\n          // );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              // console.log(\r\n              //   'New content is available and will be used when all ' +\r\n              //     'tabs for this page are closed. See https://cra.link/PWA.'\r\n              // );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              // console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      // console.log(\r\n      //   'No internet connection found. App is running in offline mode.'\r\n      // );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        // console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React, { useEffect, useState } from \"react\"\r\n\r\nimport { Snackbar, Button, Slide } from \"@material-ui/core\"\r\nimport * as serviceWorker from \"../serviceWorker\"\r\n\r\nconst ServiceWorker = () => {\r\n    const [showReload, setShowReload] = useState(false)\r\n    const [updatedWorker, setUpdatedWorker] = useState()\r\n\r\n    const onServiceWorkerUpdated = ({ waiting: waitingWorker }) => {\r\n        setUpdatedWorker(waitingWorker)\r\n        setShowReload(true)\r\n    }\r\n\r\n    const onSnackbarButtonClick = evt => {\r\n        evt.preventDefault()\r\n\r\n        setShowReload(false)\r\n\r\n        if (updatedWorker)\r\n            updatedWorker.postMessage({ type: \"SKIP_WAITING\" })\r\n\r\n        window.location.reload()\r\n    }\r\n\r\n    useEffect(() => {\r\n        serviceWorker.register({ onUpdate: onServiceWorkerUpdated })\r\n    }, [])\r\n\r\n    return (\r\n        <Snackbar\r\n            open={showReload}\r\n            onClick={() => setShowReload(false)}\r\n            action={\r\n                <Button\r\n                    color=\"inherit\"\r\n                    size=\"small\"\r\n                    onClick={onSnackbarButtonClick}\r\n                >\r\n                    Reload\r\n                </Button>\r\n            }\r\n            message=\"A new version has been installed!\"\r\n            TransitionComponent={Slide}\r\n        />\r\n    )\r\n}\r\n\r\nexport default ServiceWorker\r\n","import { store, autoEffect } from \"@risingstack/react-easy-state\"\r\nimport config from \"../config.json\"\r\n\r\nconst storageKey = \"_state\"\r\nconst savedState = JSON.parse(localStorage.getItem(storageKey))\r\n\r\nconst PersistentStore = store({\r\n    data: {\r\n        tillCardId: null,\r\n        history: [],\r\n        ...savedState\r\n    },\r\n\r\n    pushHistory: async (productInfo) => {\r\n        let matchedIndex = undefined\r\n        for (let idx in PersistentStore.data.history) {\r\n            if (PersistentStore.data.history[idx].StyleCode === productInfo.id) {\r\n                matchedIndex = idx\r\n                break\r\n            }\r\n        }\r\n\r\n        const updatedProductInfo = {\r\n            StyleCode: productInfo.id,\r\n            Name: productInfo.name,\r\n            Price: productInfo.price.current,\r\n            Currency: productInfo.currency,\r\n            Thumbnail: productInfo.thumbnail,\r\n            Offers: productInfo.offers ?? []\r\n        }\r\n\r\n        if (matchedIndex === undefined) {\r\n            PersistentStore.data.history.unshift(updatedProductInfo)\r\n        } else {\r\n            PersistentStore.data.history[matchedIndex] = {\r\n                ...PersistentStore.data.history[matchedIndex],\r\n                ...updatedProductInfo\r\n            }\r\n\r\n            PersistentStore.data.history.splice(\r\n                0, 0, PersistentStore.data.history.splice(matchedIndex, 1)[0]\r\n            )\r\n        }\r\n\r\n        while (PersistentStore.data.history.length > config.historyMaxItems) {\r\n            PersistentStore.data.history.pop()\r\n        }\r\n    },\r\n\r\n    clearHistory: async () => PersistentStore.data.history = [],\r\n\r\n    setTillCard: async tillCardId => PersistentStore.data.tillCardId = tillCardId,\r\n})\r\n\r\nautoEffect(() => {\r\n    localStorage.setItem(storageKey, JSON.stringify(PersistentStore.data))\r\n})\r\n\r\nexport default PersistentStore\r\n","import React from \"react\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport PersistentStore from \"../stores/persistentStore\"\r\n\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport { Grid, Typography, Card, CardContent, CardMedia, CardActionArea } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    productCard: {\r\n        backgroundColor: theme.palette.grey[300],\r\n        maxHeight: 72\r\n    },\r\n    cardRoot: {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        alignItems: \"start\"\r\n    },\r\n    cardThumb: {\r\n        height: 64,\r\n        width: 64,\r\n        margin: theme.spacing(.5),\r\n        backgroundColor: \"white\",\r\n        borderRadius: theme.shape.borderRadius * .5,\r\n        flexShrink: 0,\r\n        flexGrow: 0\r\n    },\r\n    cardContent: {\r\n        flexGrow: 1,\r\n        padding: theme.spacing(.5),\r\n        overflow: \"hidden\"\r\n    },\r\n    cardTitle: {\r\n        fontSize: \"1rem\",\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        width: \"100%\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\",\r\n        whiteSpace: \"nowrap\"\r\n    },\r\n    cardStyleCode: {\r\n        fontSize: \"0.71rem\",\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        color: theme.palette.grey[600],\r\n        marginTop: \"-0.29rem\"\r\n    },\r\n    cardOffers: {\r\n        fontSize: \"0.71rem\",\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        color: theme.palette.grey[600],\r\n        marginTop: \"-0.29rem\"\r\n    },\r\n    cardPrice: {\r\n        fontSize: \"1rem\",\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n        marginTop: \"auto\"\r\n    },\r\n    miniInfo: {\r\n        display: \"flex\",\r\n        flexDirection: \"row\"\r\n    },\r\n    flexSpacer: {\r\n        display: \"block\",\r\n        flexGrow: 1\r\n    }\r\n}))\r\n\r\nconst HistoryList = () => {\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <Grid container spacing={1}>\r\n            {\r\n                PersistentStore.data.history.map(\r\n                    product => (\r\n                        <Grid item xs={12} key={product.StyleCode}>\r\n                            <Card elevation={0} className={classes.productCard}>\r\n                                <CardActionArea\r\n                                    component={Link}\r\n                                    to={`/product/${product.StyleCode}`}\r\n                                    className={classes.cardRoot}\r\n                                >\r\n                                    <CardMedia\r\n                                        image={product.Thumbnail}\r\n                                        title={product.Name}\r\n                                        className={classes.cardThumb}\r\n                                    />\r\n\r\n                                    <CardContent className={classes.cardContent}>\r\n                                        <Typography\r\n                                            component=\"h5\"\r\n                                            className={classes.cardTitle}\r\n                                        >\r\n                                            { product.Name }\r\n                                        </Typography>\r\n\r\n                                        <div className={classes.miniInfo}>\r\n                                            <Typography\r\n                                                variant=\"subtitle1\"\r\n                                                className={classes.cardStyleCode}\r\n                                            >\r\n                                                { product.StyleCode }\r\n                                            </Typography>\r\n\r\n                                            <div className={classes.flexSpacer}></div>\r\n\r\n                                            {\r\n                                                product?.Offers?.map(offer => (\r\n                                                    <Typography\r\n                                                        variant=\"subtitle1\"\r\n                                                        className={classes.cardOffers}\r\n                                                    >\r\n                                                        { offer?.abbr ?? offer?.name }\r\n                                                    </Typography>\r\n                                                ))\r\n                                            }\r\n                                        </div>\r\n\r\n                                        <Typography\r\n                                            variant=\"body1\"\r\n                                            className={classes.cardPrice}\r\n                                        >\r\n                                            {product?.Currency === \"EUR\" ? \"\\u20AC\" : \"\\u00A3\"}{ product.Price }\r\n                                        </Typography>\r\n                                    </CardContent>\r\n                                </CardActionArea>\r\n                            </Card>\r\n                        </Grid>\r\n                    )\r\n                )\r\n            }\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default view(HistoryList)\r\n","import React, { useState } from \"react\"\r\nimport clsx from \"clsx\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport EphemeralStore from \"../stores/ephemeralStore\"\r\nimport Store from \"../stores/persistentStore\"\r\n\r\nimport { useTheme, makeStyles } from \"@material-ui/core/styles\"\r\nimport { useMediaQuery, Dialog, DialogTitle, DialogContent, DialogContentText, TextField, DialogActions, Button, IconButton, Tooltip } from \"@material-ui/core\"\r\n\r\nimport BinIcon from \"@material-ui/icons/Delete\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    dimmedButton: {\r\n        color: theme.palette.grey[500],\r\n    },\r\n    deleteIcon: {\r\n        marginRight: \"auto\",\r\n    },\r\n    confirmButton: {\r\n        fontWeight: theme.typography.fontWeightBold,\r\n    }\r\n}))\r\n\r\nconst SetupTillCardDialogue = () => {\r\n    const [tillCardCode, setTillCardCode] = useState()\r\n\r\n    const classes = useStyles()\r\n    const theme = useTheme()\r\n    const dialogueFullscreen = useMediaQuery(theme.breakpoints.only(\"xs\"))\r\n\r\n    const onDialogueDismissed = () => EphemeralStore.tillCardDialogueOpen = false\r\n\r\n    const onSubmitChanges = () => {\r\n        Store.setTillCard(tillCardCode)\r\n        onDialogueDismissed()\r\n    }\r\n\r\n    const onDeleteCard = () => {\r\n        Store.setTillCard(null)\r\n        onDialogueDismissed()\r\n    }\r\n\r\n    const onInputKeyPressed = evt => {\r\n        if (evt.key === \"Enter\") {\r\n            evt.preventDefault()\r\n            onSubmitChanges()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Dialog\r\n            open={EphemeralStore.tillCardDialogueOpen}\r\n            onClose={onDialogueDismissed}\r\n            fullScreen={dialogueFullscreen}\r\n        >\r\n            <DialogTitle>\r\n                Setup Till Card\r\n            </DialogTitle>\r\n\r\n            <DialogContent>\r\n                <DialogContentText>\r\n                    Setup your till card for easy access. Scan your phone with the barcode scanner to login. You can use this in both your store and other stores to receive staff discount too.\r\n                </DialogContentText>\r\n\r\n                <TextField\r\n                    autoFocus\r\n                    autoComplete=\"off\"\r\n                    margin=\"dense\"\r\n                    id=\"name\"\r\n                    label=\"Till Card Number\"\r\n                    helperText=\"This is the number you use to login on your till. It is also displayed below the barcode on your physical till card.\"\r\n                    defaultValue={Store.data.tillCardId}\r\n                    type=\"number\"\r\n                    min={10000}\r\n                    max={99999}\r\n                    fullWidth\r\n\r\n                    onChange={evt => setTillCardCode(evt.target.value)}\r\n                    onKeyPress={onInputKeyPressed}\r\n                />\r\n            </DialogContent>\r\n\r\n            <DialogActions>\r\n                <Tooltip\r\n                    arrow\r\n                    title=\"Remove Till Card\"\r\n                    placement=\"top-start\"\r\n                >\r\n                    <IconButton\r\n                        aria-label=\"delete\"\r\n                        className={\r\n                            clsx(classes.dimmedButton, classes.deleteIcon)\r\n                        }\r\n                        onClick={onDeleteCard}\r\n                    >\r\n                        <BinIcon />\r\n                    </IconButton>\r\n                </Tooltip>\r\n\r\n                <Button onClick={onDialogueDismissed} className={classes.dimmedButton}>\r\n                    Cancel\r\n                </Button>\r\n\r\n                <Button onClick={onSubmitChanges} color=\"primary\" className={classes.confirmButton}>\r\n                    Finish\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default view(SetupTillCardDialogue)\r\n","import React from \"react\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport Store from \"../stores/persistentStore\"\r\nimport EphemeralStore from \"../stores/ephemeralStore\"\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport { Typography, IconButton, Button, Tooltip } from \"@material-ui/core\"\r\nimport { QRCode } from \"react-qr-svg\"\r\n\r\nimport EditIcon from \"@material-ui/icons/Edit\"\r\nimport CreditCardIcon from \"@material-ui/icons/CreditCard\"\r\n\r\nimport SetupTillCardDialogue from \"./setup-till-card-dialogue\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        flexDirection: \"column\"\r\n    },\r\n    sectionHeader: {\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n    },\r\n    tillCardHeader: {\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        fontSize: \"1rem\",\r\n        flexGrow: 1,\r\n    },\r\n    sectionMainContent: {\r\n        display: \"flex\",\r\n        width: \"100vw\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        background: theme.palette.background.paper,\r\n        margin: theme.spacing(1, 0, 2),\r\n        borderTop: `1px solid ${theme.palette.divider}`,\r\n        borderBottom: `1px solid ${theme.palette.divider}`,\r\n        alignSelf: \"center\",\r\n    },\r\n    contentContainer: {\r\n        display: \"flex\",\r\n        padding: theme.spacing(3, 3, 2),\r\n        width: \"100%\",\r\n        maxWidth: 500,\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        alignSelf: \"center\",\r\n    },\r\n    typography: {\r\n        fontWeight: theme.typography.fontWeightBold,\r\n    },\r\n    setupButton: {\r\n        margin: theme.spacing(2, 0),\r\n    },\r\n    tillCardCode: {\r\n        width: \"50%\",\r\n        color: theme.palette.primary.main,\r\n\r\n        \"& *.tcqr-cell-filled\": {\r\n            fill: \"currentColor\",\r\n        },\r\n\r\n        \"& *.tcqr-cell-empty\": {\r\n            fill: \"transparent\",\r\n        },\r\n\r\n        [theme.breakpoints.only(\"xs\")]: {\r\n            width: \"80%\",\r\n        },\r\n    },\r\n    tillCardCodeText: {\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        marginTop: theme.spacing(1),\r\n    }\r\n}))\r\n\r\nconst TillCard = () => {\r\n    const classes = useStyles()\r\n\r\n    const onSetupButtonClicked = evt => {\r\n        evt.preventDefault()\r\n        EphemeralStore.tillCardDialogueOpen = true\r\n    }\r\n\r\n    return (\r\n        <section className={classes.root}>\r\n            <div className={classes.sectionHeader}>\r\n                <Typography variant=\"h2\" className={classes.tillCardHeader}>\r\n                    Till Card\r\n                </Typography>\r\n\r\n                <Tooltip title=\"Edit Till Card\" arrow placement=\"left\">\r\n                    <IconButton\r\n                        aria-label=\"edit\"\r\n                        size=\"small\"\r\n                        onClick={onSetupButtonClicked}\r\n                    >\r\n                        <EditIcon />\r\n                    </IconButton>\r\n                </Tooltip>\r\n            </div>\r\n\r\n            <div className={classes.sectionMainContent}>\r\n                <div className={classes.contentContainer}>\r\n                    {\r\n                        Store.data.tillCardId\r\n                            ? (\r\n                                <>\r\n                                    <QRCode\r\n                                        value={Store.data.tillCardId}\r\n                                        className={classes.tillCardCode}\r\n                                        cellClassPrefix=\"tcqr\"\r\n                                    />\r\n\r\n                                    <Typography\r\n                                        variant=\"body1\"\r\n                                        className={classes.tillCardCodeText}\r\n                                        color=\"primary\"\r\n                                    >\r\n                                        {Store.data.tillCardId}\r\n                                    </Typography>\r\n                                </>\r\n                            )\r\n                            : (\r\n                                <>\r\n                                    <Typography variant=\"h1\" color=\"primary\" className={classes.typography}>\r\n                                        <CreditCardIcon fontSize=\"inherit\" />\r\n                                    </Typography>\r\n\r\n                                    <Typography variant=\"h4\" color=\"primary\" className={classes.typography}>\r\n                                        Till Card\r\n                                    </Typography>\r\n\r\n                                    <Typography variant=\"body1\" color=\"primary\">\r\n                                        Setup your till card for convenient access.\r\n                                    </Typography>\r\n\r\n                                    <Button\r\n                                        variant=\"contained\"\r\n                                        color=\"primary\"\r\n                                        className={classes.setupButton}\r\n                                        onClick={onSetupButtonClicked}\r\n                                    >\r\n                                        Setup Card\r\n                                    </Button>\r\n                                </>\r\n                            )\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n            <SetupTillCardDialogue />\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default view(TillCard)\r\n","import React from \"react\"\r\nimport { Helmet } from \"react-helmet\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport PersistentStore from \"../stores/persistentStore\"\r\n\r\nimport { Typography, ButtonBase } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport HistoryList from \"../components/history-list\"\r\nimport TillCard from \"../components/till-card\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    historyHeader: {\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        fontSize: \"1rem\"\r\n    },\r\n    historyClearText: {\r\n        textTransform: \"uppercase\",\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        fontSize: \"0.75rem\",\r\n        color: theme.palette.grey[600]\r\n    },\r\n    historyClearButton: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"start\",\r\n        clear: \"both\",\r\n        marginBottom: theme.spacing(1)\r\n    }\r\n}))\r\n\r\nconst HomeView = () => {\r\n    const classes = useStyles()\r\n    const historyLength = PersistentStore.data.history.length\r\n\r\n    const onClearHistoryClicked = evt => {\r\n        evt.preventDefault()\r\n        PersistentStore.clearHistory()\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Helmet title=\"Home\" />\r\n\r\n            <TillCard />\r\n\r\n            {\r\n                historyLength\r\n                    ? (\r\n                        <ButtonBase\r\n                            className={classes.historyClearButton}\r\n                            onClick={onClearHistoryClicked}\r\n                        >\r\n                            <Typography variant=\"h2\" className={classes.historyHeader}>\r\n                                History\r\n                            </Typography>\r\n\r\n\r\n                            <Typography variant=\"body1\" className={classes.historyClearText}>\r\n                                Clear {historyLength.toLocaleString()} item{historyLength > 1 ? \"s\" : \"\"}\r\n                            </Typography>\r\n                        </ButtonBase>\r\n                    ) : \"\"\r\n            }\r\n\r\n            <HistoryList />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default view(HomeView)\r\n","import { useEffect, useState } from \"react\"\r\nimport config from \"../config.json\"\r\n\r\nconst useAPI = (path = \"\", options = {}) => {\r\n  const [ data, setData ] = useState({})\r\n  const [ loading, setLoading ] = useState(true)\r\n  const [ hasError, setError ] = useState()\r\n\r\n  useEffect(() => {\r\n    (() => {\r\n      setLoading(true)\r\n\r\n      return fetch(`${config.endpoints.api}/api${path}`, options)\r\n        .then(res => res.json())\r\n        .then(({ result }) => setData(result))\r\n        .catch(err => setError(err.message ?? true))\r\n        .finally(() => setLoading(false))\r\n    })()\r\n\r\n    /*\r\n      If I add \"options\" to the dependency array, it'll just continue\r\n      to be in a \"loading\" state forever; therefore, I'm ignoring the\r\n      warning.\r\n    */\r\n\r\n    // eslint-disable-next-line\r\n  }, [ path ])\r\n\r\n  return [ data, loading, hasError ]\r\n}\r\n\r\nexport default useAPI\r\n","import React, { useState } from \"react\"\r\nimport clsx from \"clsx\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport EphemeralStore from \"../stores/ephemeralStore\"\r\n\r\nimport { Card, CardActionArea, Typography, CardContent, Tooltip } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport CentreSpinner from \"./centre-spinner\"\r\nimport { useLayoutEffect } from \"react\"\r\n\r\nimport StockNoneIcon from \"@material-ui/icons/Close\"\r\nimport StockUnknownIcon from \"@material-ui/icons/Help\"\r\nimport StockFoundIcon from \"@material-ui/icons/Done\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    sizeCard: {\r\n        padding: 0,\r\n        backgroundColor: theme.palette.background.default\r\n    },\r\n    cardMain: {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"start\"\r\n    },\r\n    cardSize: {\r\n        width: 55,\r\n        height: 55,\r\n        display: \"flex\",\r\n        flexShrink: 0,\r\n        flexGrow: 0,\r\n        backgroundColor: theme.palette.grey[300],\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        borderRadius: theme.shape.borderRadius,\r\n        marginLeft: theme.spacing(1.5)\r\n    },\r\n    cardSizePrimary: {\r\n        backgroundColor: theme.palette.primary.main\r\n    },\r\n    cardSizeText: {\r\n        color: theme.palette.getContrastText(theme.palette.grey[300]),\r\n        fontSize: \"1.71rem\",\r\n        verticalAlign: \"middle\",\r\n        fontWeight: theme.typography.fontWeightBold\r\n    },\r\n    cardSizeTextPrimary: {\r\n        color: theme.palette.getContrastText(theme.palette.primary.main)\r\n    },\r\n    cardContent: {\r\n        flexGrow: 1,\r\n        overflow: \"hidden\"\r\n    },\r\n    storeStockText: {\r\n        fontSize: theme.typography.fontSize,\r\n        fontWeight: theme.typography.fontWeightBold\r\n    },\r\n    onlineStockText: {\r\n        fontSize: theme.typography.fontSize,\r\n        fontWeight: theme.typography.fontWeightRegular\r\n    }\r\n}))\r\n\r\n// array of conversion values\r\nconst SizeGuide = {\r\n    letter: [\r\n        { size: \"S\", equiv: \"3-4\", gender: \"W\" },\r\n        { size: \"M\", equiv: \"5-6\", gender: \"W\" },\r\n        { size: \"L\", equiv: \"7-8\", gender: \"W\" },\r\n        { size: \"XL\", equiv: \"9-10\", gender: \"W\" },\r\n        { size: \"S\", equiv: \"7-8\", gender: \"M\" },\r\n        { size: \"M\", equiv: \"9-10\", gender: \"M\" },\r\n        { size: \"L\", equiv: \"11-12\", gender: \"M\" },\r\n        { size: \"XL\", equiv: \"13-14\", gender: \"M\" }\r\n    ],\r\n    eu: [\r\n        { uk: 1, eu: 21 },\r\n        { uk: 2, eu: 22 },\r\n        { uk: 3, eu: 23 },\r\n        { uk: 4, eu: 24 },\r\n        { uk: 5, eu: 25 },\r\n        { uk: 6, eu: 26 },\r\n        { uk: 7, eu: 27 },\r\n        { uk: 8, eu: 28 },\r\n        { uk: 9, eu: 29 },\r\n        { uk: 10, eu: 30 },\r\n        { uk: 11, eu: 31 },\r\n        { uk: 12, eu: 32 },\r\n        { uk: 13, eu: 33 },\r\n        { uk: 1, eu: 34 },\r\n        { uk: 2, eu: 35 },\r\n        { uk: 3, eu: 36 },\r\n        { uk: 4, eu: 37 },\r\n        { uk: 5, eu: 38 },\r\n        { uk: 6, eu: 39 },\r\n        { uk: 7, eu: 40 },\r\n        { uk: 8, eu: 41 },\r\n        { uk: 9, eu: 42 },\r\n        { uk: 10, eu: 43 },\r\n        { uk: 11, eu: 44 },\r\n        { uk: 12, eu: 45 },\r\n        { uk: 13, eu: 46 },\r\n        { uk: 14, eu: 47 },\r\n        { uk: 15, eu: 48 }\r\n    ]\r\n}\r\n\r\n// maps letter sizes to a size range as detailed above in \"SizeGuide\"\r\n// e.g. \"S\" is equivalent to sizes 3-4 in ladies and 7-8 in mens.\r\nconst letterSizeToRange = (size = \"\", gender = \"W\") =>\r\n    SizeGuide.letter.filter(\r\n        ({ size: valSize, gender: valGend }) => valSize === size.toUpperCase() && valGend === gender.toUpperCase()\r\n    )?.[0]?.equiv ?? \"unavailable\"\r\n\r\n// determine sizing type - will return a string containing one of:\r\n// \"EU\" for European sizing, \"UK\" for UK sizing or \"SML\" for letter\r\n// sizing (S, M, L, XL)\r\nconst determineSizeType = (size = \"\") => {\r\n    if (size.replace(/[A-Z]/gi, \"\").length)\r\n        return Number(size) > 15 ? \"EU\" : \"UK\"\r\n\r\n    return \"SML\"\r\n}\r\n\r\n// maps EU sizes to a best-guess UK equivalent\r\nconst euSizeToUK = (size = \"\", gender = \"W\") => {\r\n    const euSize = Math.floor(Number(size) + .5)\r\n    const matchedSize = SizeGuide.eu.filter(({ eu }) => eu === euSize)\r\n\r\n    return matchedSize?.[0]?.uk - (gender === \"W\" ? 0 : 1) ?? \"unavailable\"\r\n}\r\n\r\nconst ProductStockSize = ({\r\n    styleCode = \"\",\r\n    size = {},\r\n    category = \"\",\r\n    autoCheck = false,\r\n    useIcon = false\r\n}) => {\r\n    const classes = useStyles()\r\n\r\n    const {\r\n        store: {\r\n            id: storeId,\r\n            name: storeName\r\n        }\r\n    } = EphemeralStore\r\n\r\n    const [ inStock, setInStock ] = useState(false)\r\n    const [ isLoading, setLoading ] = useState(false)\r\n    const [ stockRequested, setRequested ] = useState(false)\r\n    const [ hasError, setError ] = useState(false)\r\n\r\n    const checkForStock = () => {\r\n        setRequested(true)\r\n        setLoading(true)\r\n\r\n        return fetch(`${process.env.REACT_APP_API_URL}/api/stock/${storeId}/${styleCode}${size.code}`)\r\n            .then(res => res.json()).then(({ result }) => {\r\n                setInStock(result?.inStock)\r\n            })\r\n        .catch(err => setError(err.message))\r\n        .finally(() => setLoading(false))\r\n    }\r\n\r\n    const onCardClicked = evt => {\r\n        evt.preventDefault()\r\n        checkForStock()\r\n    }\r\n\r\n    const sizeType = determineSizeType(size.size)\r\n    const sizeTooltipContent = sizeType === \"EU\"\r\n                        ? `UK Size ${euSizeToUK(size.size, category?.[0]?.[0]?.toUpperCase())} (est.)`\r\n                        : sizeType === \"UK\"\r\n                            ? \"\"\r\n                            : `UK Size ${letterSizeToRange(size.size, category?.[0]?.[0]?.toUpperCase())} (est.)`\r\n\r\n    useLayoutEffect(() => {\r\n        if (autoCheck) checkForStock()\r\n        // eslint-disable-next-line\r\n    }, [])\r\n\r\n    return (\r\n        <Card elevation={0} className={classes.sizeCard} key={size.code}>\r\n            <Tooltip title={sizeTooltipContent} placement=\"top\">\r\n                <CardActionArea\r\n                    className={classes.cardMain}\r\n                    onClick={onCardClicked}\r\n                >\r\n                    <div className={\r\n                        clsx(classes.cardSize, {\r\n                            [classes.cardSizePrimary]: inStock\r\n                        })\r\n                    }>\r\n                        <Typography variant=\"h6\" className={\r\n                            clsx(classes.cardSizeText, {\r\n                                [classes.cardSizeTextPrimary]: inStock\r\n                            })\r\n                        }>\r\n                            {\r\n                                isLoading\r\n                                    ? <CentreSpinner size=\"1.71rem\" />\r\n                                    : useIcon\r\n                                        ? stockRequested\r\n                                            ? inStock\r\n                                                ? <StockFoundIcon />\r\n                                                : <StockNoneIcon />\r\n                                            : <StockUnknownIcon />\r\n                                        : size.size\r\n                            }\r\n                        </Typography>\r\n                    </div>\r\n\r\n                    <CardContent className={classes.cardContent}>\r\n                        <Typography variant=\"h6\" className={classes.storeStockText}>\r\n                            {\r\n                                hasError\r\n                                    ? \"An error ocurred\"\r\n                                    : inStock\r\n                                        ? `In stock in ${storeName}`\r\n                                        : isLoading\r\n                                            ? \"Checking the stock room...\"\r\n                                            : stockRequested\r\n                                                ? `Out of stock in ${storeName}`\r\n                                                : `Tap to check stock in ${storeName}`\r\n                            }\r\n                        </Typography>\r\n\r\n                        <Typography variant=\"h6\" className={classes.onlineStockText}>\r\n                            {\r\n                                (size.stock.warehouse > 0)\r\n                                    ? `x${size.stock.warehouse?.toLocaleString()} in stock online`\r\n                                    : \"Out of stock online\"\r\n                            }\r\n                        </Typography>\r\n                    </CardContent>\r\n                </CardActionArea>\r\n            </Tooltip>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default view(ProductStockSize)\r\n","import React from \"react\"\r\n\r\nimport { Grid } from \"@material-ui/core\"\r\n\r\nimport ProductStockSize from \"./product-stock-size\"\r\n\r\nconst ProductStock = ({ styleCode = \"\", sizeRange = [], category = \"\", ...props }) => {\r\n    return (\r\n        <Grid container spacing={.5} {...props}>\r\n            {\r\n                sizeRange.map(size => (\r\n                    <Grid item xs={12} key={size.code}>\r\n                        <ProductStockSize\r\n                            styleCode={styleCode}\r\n                            size={size}\r\n                            category={category}\r\n                            autoCheck={sizeRange.length === 1}\r\n                            useIcon={sizeRange.length === 1}\r\n                        />\r\n                    </Grid>\r\n                ))\r\n            }\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default ProductStock\r\n","import React, { useLayoutEffect } from \"react\"\r\nimport { useParams } from \"react-router-dom\"\r\n\r\nimport { Helmet } from \"react-helmet\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport PersistentStore from \"../stores/persistentStore\"\r\n\r\nimport { Typography, Breadcrumbs, Fab, Tooltip } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport { Alert, AlertTitle } from \"@material-ui/lab\"\r\n\r\nimport BreadcrumbSeparatorIcon from \"@material-ui/icons/NavigateNext\"\r\nimport ShopIcon from \"@material-ui/icons/ShoppingCart\"\r\n\r\nimport useAPI from \"../hooks/useAPI\"\r\nimport CentreSpinner from \"../components/centre-spinner\"\r\nimport ProductStock from \"../components/product-stock\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    prodTitle: {\r\n        fontSize: \"1.71rem\",\r\n        textOverflow: \"ellipsis\",\r\n        whiteSpace: \"nowrap\",\r\n        overflow: \"hidden\",\r\n        display: \"block\"\r\n    },\r\n    categoriesContainer: {\r\n        display: \"flex\"\r\n    },\r\n    catBreadcrumbs: {\r\n        flexGrow: 1\r\n    },\r\n    catCrumb: {\r\n        fontSize: \"0.86rem\",\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        color: theme.palette.text.disabled\r\n    },\r\n    priceText: {\r\n        fontSize: \"1.71rem\",\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    coverImage: {\r\n        display: \"flex\",\r\n        position: \"relative\",\r\n        width: \"100%\",\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        overflow: \"hidden\",\r\n        borderRadius: theme.shape.borderRadius,\r\n        margin: theme.spacing(1, 0),\r\n        border: `1px solid ${theme.palette.divider}`\r\n    },\r\n    productThumb: {\r\n        width: \"100%\"\r\n    },\r\n    fabCoverImage: {\r\n        position: \"absolute\",\r\n        bottom: theme.spacing(2),\r\n        right: theme.spacing(2)\r\n    },\r\n    stockSizeContainer: {\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    offersContainer: {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        marginTop: theme.spacing(1),\r\n        alignItems: \"end\",\r\n        justifyContent: \"flex-end\",\r\n        flexDirection: \"row\",\r\n        position: \"absolute\",\r\n        top: 0,\r\n        left: 0,\r\n        padding: theme.spacing(2, 3, 0, 2)\r\n    },\r\n    offerIcon: {\r\n        width: 96,\r\n        height: 96,\r\n        flexGrow: 0,\r\n        display: \"inline-block\"\r\n    },\r\n    productDescription: {\r\n        margin: theme.spacing(1, 0, 3)\r\n    }\r\n}))\r\n\r\nconst ProductView = () => {\r\n    const classes = useStyles()\r\n    const { style } = useParams()\r\n\r\n    const [ info, loading, err ] = useAPI(`/product/${style}`)\r\n\r\n    useLayoutEffect(() => {\r\n        (() => {\r\n            if (!loading && !err && info?.name)\r\n                PersistentStore.pushHistory(info)\r\n        })()\r\n    })\r\n\r\n    if (loading) {\r\n        return (\r\n            <>\r\n                <Helmet title=\"Loading...\" />\r\n                <CentreSpinner />\r\n            </>\r\n        )\r\n    } else if (err || !info?.name) {\r\n        return (\r\n            <>\r\n                <Helmet title=\"Error\" />\r\n\r\n                <Alert severity=\"error\">\r\n                    <AlertTitle>Error</AlertTitle>\r\n                    {\r\n                        err\r\n                        ? `${err}`\r\n                        : !info?.name\r\n                            ? <><strong>{style}</strong> could not be found</>\r\n                            : \"Failed to fetch data\"\r\n                    }\r\n                </Alert>\r\n            </>\r\n        )\r\n    } else {\r\n        return (\r\n            <div>\r\n                <Helmet title={info?.name} />\r\n\r\n                <Typography variant=\"h2\" className={classes.prodTitle}>\r\n                    {info?.name}\r\n                </Typography>\r\n\r\n                <div className={classes.categoriesContainer}>\r\n                    <Breadcrumbs\r\n                        separator={\r\n                            <BreadcrumbSeparatorIcon className={classes.catCrumb} />\r\n                        }\r\n                        className={classes.catBreadcrumbs}\r\n                    >\r\n                        {\r\n                            info?.categories?.map(category => (\r\n                                <Typography className={classes.catCrumb}>\r\n                                    {category}\r\n                                </Typography>\r\n                            ))\r\n                        }\r\n                    </Breadcrumbs>\r\n\r\n                    <Typography className={classes.catCrumb}>\r\n                        { info?.id }\r\n                    </Typography>\r\n                </div>\r\n\r\n                <Typography variant=\"body2\" className={classes.priceText}>\r\n                    {info?.currency === \"GBP\" ? \"\\u00A3\" : \"\\u20AC\"}\r\n                    {info?.price?.current}\r\n                </Typography>\r\n\r\n                <div className={classes.coverImage}>\r\n                    <div className={classes.offersContainer}>\r\n                        {\r\n                            info?.offers?.map(offer => (\r\n                                <Tooltip title={`This item is in the ${offer?.abbr ?? offer?.name} offer`} placement=\"top\">\r\n                                    <img\r\n                                        src={offer?.image}\r\n                                        alt={offer?.name}\r\n                                        className={classes.offerIcon}\r\n                                        />\r\n                                </Tooltip>\r\n                            ))\r\n                        }\r\n                    </div>\r\n\r\n                    <img\r\n                        src={info?.thumbnail}\r\n                        alt={info?.name}\r\n                        className={classes.productThumb}\r\n                    />\r\n\r\n                    <Tooltip title=\"View on Shoe Zone\" placement=\"top\">\r\n                        <Fab\r\n                            color=\"primary\"\r\n                            aria-label=\"View on Shoe Zone\"\r\n                            className={classes.fabCoverImage}\r\n                            component=\"a\"\r\n                            target=\"_blank\"\r\n                            href={`https://www.shoezone.com/Products/--${info?.id}`}\r\n                        >\r\n                            <ShopIcon />\r\n                        </Fab>\r\n                    </Tooltip>\r\n                </div>\r\n\r\n                <div className={classes.productDescription}>\r\n                    <Typography variant=\"h4\" className={classes.catCrumb}>\r\n                        Description\r\n                    </Typography>\r\n\r\n                    <Typography variant=\"body2\">\r\n                        {info?.description}\r\n                    </Typography>\r\n                </div>\r\n\r\n                <Alert severity=\"info\">\r\n                    Hold down a size to see the estimated size conversions for European sizes or S/M/L/XL sizing.\r\n                </Alert>\r\n\r\n                <ProductStock\r\n                    styleCode={info?.id}\r\n                    sizeRange={info?.sizeRange}\r\n                    className={classes.stockSizeContainer}\r\n                    category={info.categories?.[0]}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default view(ProductView)\r\n","import React from \"react\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport EphemeralStore from \"../stores/ephemeralStore\"\r\n\r\nimport { Helmet } from \"react-helmet\"\r\n\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\"\r\nimport { CssBaseline } from \"@material-ui/core\"\r\nimport { makeStyles, createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\"\r\nimport { Alert, AlertTitle } from \"@material-ui/lab\"\r\n\r\nimport Header from \"./header\"\r\nimport ScannerModal from \"./scanner-modal\"\r\nimport CentreSpinner from \"./centre-spinner\"\r\nimport HomeFAB from \"./home-fab\"\r\n\r\nimport ServiceWorker from \"./service-worker\"\r\n\r\nimport HomeView from \"../views/index\"\r\nimport ProductView from \"../views/product\"\r\n\r\nconst defaultTheme = createMuiTheme({\r\n  typography: {\r\n    fontFamily: `Montserrat, Helvetica, Arial, sans-serif`,\r\n  },\r\n  palette: {\r\n    primary: {\r\n      main: \"#002F87\"\r\n    }\r\n  }\r\n})\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    // overflow: \"hidden\",\r\n    padding: theme.spacing(2),\r\n    maxWidth: 500,\r\n    margin: `${theme.spacing(1)}px auto`,\r\n    position: \"relative\"\r\n  },\r\n  geoError: {\r\n    marginTop: theme.spacing(2)\r\n  }\r\n}))\r\n\r\nconst App = () => {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div>\r\n      <CssBaseline />\r\n\r\n      <Helmet\r\n        titleTemplate=\"%s - we♥shoes\"\r\n        defaultTitle=\"we♥shoes\"\r\n        title={\r\n          EphemeralStore.store.error\r\n            ? \"Oops!\"\r\n            : \"Loading...\"\r\n        }\r\n      />\r\n\r\n      <ThemeProvider theme={defaultTheme}>\r\n        <div className={classes.root}>\r\n          <Router>\r\n            <Header />\r\n\r\n            {\r\n              EphemeralStore.store.error\r\n                ? (\r\n                  <Alert severity=\"error\" className={classes.geoError}>\r\n                    <AlertTitle>Error</AlertTitle>\r\n                    {\r\n                      EphemeralStore.store.error?.toLowerCase()?.indexOf(\"denied\") > -1\r\n                        ? \"Please allow location access to use the app.\"\r\n                        : EphemeralStore.store.error\r\n                    }\r\n                  </Alert>\r\n                )\r\n                : EphemeralStore.store.name\r\n                  ? <Switch>\r\n                      <Route path=\"/\" exact component={HomeView} />\r\n                      <Route path=\"/product/:style\" component={ProductView} />\r\n                    </Switch>\r\n                  : <CentreSpinner />\r\n            }\r\n\r\n            <HomeFAB />\r\n\r\n            <ScannerModal />\r\n          </Router>\r\n\r\n          <ServiceWorker />\r\n        </div>\r\n      </ThemeProvider>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default view(App)\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\n\r\nimport App from \"./components/app\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n\r\n  document.querySelector(\"#app\")\r\n)\r\n"],"sourceRoot":""}