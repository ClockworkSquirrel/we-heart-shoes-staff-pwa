{"version":3,"sources":["stores/ephemeralStore.jsx","components/header-search-input.jsx","components/header.jsx","components/scanner-modal.jsx","components/centre-spinner.jsx","stores/persistentStore.jsx","components/history-list.jsx","views/index.jsx","hooks/useAPI.jsx","components/product-stock-size.jsx","components/product-stock.jsx","views/product.jsx","components/app.jsx","index.js"],"names":["EphemeralStore","store","scanOpen","fetchNearestStore","_fetchNearestStore","Object","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","abrupt","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","enableHighAccuracy","then","coords","latitude","longitude","lat","lon","fetch","concat","cache","res","json","result","name","StoreName","id","StoreId","catch","err","console","error","message","stop","apply","this","arguments","useStyles","makeStyles","theme","root","width","margin","spacing","codeInputBox","borderRadius","shape","& input::-webkit-outer-spin-button, input::-webkit-inner-spin-button","WebkitAppearance","view","_useState","useState","_useState2","slicedToArray","styleCode","setStyleCode","classes","history","useHistory","react_default","createElement","className","onSubmit","evt","preventDefault","style","trim","replace","substr","length","push","FormControl","variant","fullWidth","InputLabel","htmlFor","FilledInput","type","min","max","endAdornment","InputAdornment","position","Tooltip","title","arrow","IconButton","aria-label","edge","onClick","FilterCenterFocus_default","disableUnderline","autoComplete","onInput","target","value","display","alignItems","justifyContent","flexDirection","headerTitle","fontWeight","typography","fontWeightBold","color","palette","primary","main","fontSize","headerTitleLink","textDecoration","headerStoreInfo","textTransform","grey","useEffect","react_router_dom","to","Typography","component","Favorite_default","header_search_input","modalContainer","padding","maxWidth","modalPaper","outline","flexGrow","& video","marginBottom","onModalCloseHandler","scanDebounce","location","search","Modal","open","onClose","BackdropComponent","Backdrop","Grow","in","Paper","dist_default","height","onUpdate","_result$text","text","CentreSpinner","props","CircularProgress","assign","savedState","JSON","parse","localStorage","getItem","PersistentStore","data","objectSpread2","pushHistory","_pushHistory","productInfo","matchedIndex","idx","undefined","t0","keys","t1","done","StyleCode","unshift","Name","Price","Thumbnail","splice","pop","_x","clearHistory","_clearHistory","_callee2","_context2","autoEffect","setItem","stringify","productCard","backgroundColor","maxHeight","cardRoot","cardThumb","flexShrink","cardContent","overflow","cardTitle","textOverflow","whiteSpace","cardStyleCode","marginTop","cardPrice","fontWeightRegular","Grid","container","map","product","item","xs","key","Card","elevation","CardActionArea","Link","CardMedia","image","CardContent","historyHeader","historyClearText","historyClearButton","clear","Helmet","ButtonBase","history_list","useAPI","path","options","setData","_useState3","_useState4","loading","setLoading","_useState5","_useState6","hasError","setError","_err$message","finally","sizeCard","background","default","cardMain","cardSize","marginLeft","cardSizePrimary","cardSizeText","getContrastText","verticalAlign","cardSizeTextPrimary","storeStockText","onlineStockText","size","_size$Stock","_EphemeralStore$store","storeId","storeName","inStock","setInStock","isLoading","stockRequested","setRequested","_useState7","_useState8","SizeCode","InStock","clsx","[object Object]","centre_spinner","Size","Stock","toLocaleString","ProductStock","_ref","_ref$styleCode","_ref$sizeRange","sizeRange","objectWithoutProperties","product_stock_size","prodTitle","categoriesContainer","catBreadcrumbs","catCrumb","disabled","priceText","coverImage","border","divider","& img","fabCoverImage","bottom","right","stockSizeContainer","useParams","_useAPI","_useAPI2","info","useLayoutEffect","Fragment","Alert","severity","AlertTitle","Breadcrumbs","separator","NavigateNext_default","Category","Subcategory","src","alt","placement","Fab","href","ShoppingCart_default","product_stock","SizeRange","defaultTheme","createMuiTheme","fontFamily","CssBaseline","titleTemplate","defaultTitle","ThemeProvider","header","react_router","exact","HomeView","ProductView","scanner_modal","ReactDOM","render","StrictMode","app","document","querySelector"],"mappings":"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","file":"static/js/main.1ee0ee8b.chunk.js","sourcesContent":["import { store } from \"@risingstack/react-easy-state\"\r\n\r\nconst RestAPI = `https://untitled-bzxwlvj4h4dk.runkit.sh`\r\n\r\nconst getGeoCoords = () => new Promise((resolve, reject) => {\r\n    if (!navigator.geolocation)\r\n        return reject(\"Geolocation API is not supported\")\r\n\r\n    navigator.geolocation.getCurrentPosition(resolve, reject, {\r\n        enableHighAccuracy: false\r\n    })\r\n}).then(({ coords: { latitude, longitude } }) => ({\r\n    lat: latitude,\r\n    lon: longitude\r\n}))\r\n\r\nconst EphemeralStore = store({\r\n    store: {},\r\n    scanOpen: false,\r\n\r\n    fetchNearestStore: async () => getGeoCoords().then(\r\n        ({ lat, lon }) => fetch(`${RestAPI}/locate/coords/${lat}/${lon}`, {\r\n            cache: \"force-cache\"\r\n        })\r\n    ).then(res => res.json()).then(({ result }) => {\r\n        EphemeralStore.store = {\r\n            name: result.StoreName,\r\n            id: result.StoreId\r\n        }\r\n    }).catch(err => {\r\n        console.error(`Geolocation: ${err.message}`)\r\n        EphemeralStore.store.error = err.message\r\n    })\r\n})\r\n\r\nexport default EphemeralStore\r\n","import React, { useState } from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport EphemeralStore from \"../stores/ephemeralStore\"\r\n\r\nimport { FormControl, InputLabel, FilledInput, InputAdornment, IconButton, Tooltip } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport ScanCodeIcon from \"@material-ui/icons/FilterCenterFocus\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: \"100%\",\r\n        margin: theme.spacing(3, 0)\r\n    },\r\n    codeInputBox: {\r\n        borderRadius: theme.shape.borderRadius,\r\n        \r\n        \"& input::-webkit-outer-spin-button, input::-webkit-inner-spin-button\": {\r\n            WebkitAppearance: \"none\"\r\n        }\r\n    }\r\n}))\r\n\r\nconst HeaderSearchInput = () => {\r\n    const [ styleCode, setStyleCode ] = useState()\r\n    const classes = useStyles()\r\n    const history = useHistory()\r\n\r\n    const onSearchSubmit = evt => {\r\n        evt.preventDefault()\r\n        \r\n        const style = styleCode.trim().replace(/[^\\d]/g, \"\").substr(0, 5)\r\n        if (style.length !== 5) return\r\n\r\n        history.push(`/product/${style}`)\r\n    }\r\n\r\n    const onScanButtonClick = evt => {\r\n        evt.preventDefault()\r\n        EphemeralStore.scanOpen = true\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <form onSubmit={onSearchSubmit}>\r\n                <FormControl variant=\"filled\" fullWidth>\r\n                    <InputLabel htmlFor=\"product-code-search\">\r\n                        Product code\r\n                    </InputLabel>\r\n\r\n                    <FilledInput\r\n                        id=\"product-code-search\"\r\n                        type=\"number\"\r\n                        min={10000}\r\n                        max={99999}\r\n\r\n                        endAdornment={\r\n                            <InputAdornment position=\"end\">\r\n                                <Tooltip title=\"Scan a barcode\" arrow>\r\n                                    <IconButton\r\n                                        aria-label=\"Scan a barcode\"\r\n                                        edge=\"end\"\r\n                                        onClick={onScanButtonClick}\r\n                                    >\r\n                                        <ScanCodeIcon />\r\n                                    </IconButton>\r\n                                </Tooltip>\r\n                            </InputAdornment>\r\n                        }\r\n\r\n                        disableUnderline\r\n                        autoComplete=\"off\"\r\n                        className={classes.codeInputBox}\r\n\r\n                        onInput={\r\n                            ({ target: { value } }) => setStyleCode(value)\r\n                        }\r\n                    />\r\n                </FormControl>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default view(HeaderSearchInput)\r\n","import React, { useEffect } from \"react\"\r\n\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport EphemeralStore from \"../stores/ephemeralStore\"\r\n\r\nimport { Typography } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport HeartIcon from \"@material-ui/icons/Favorite\"\r\n\r\nimport HeaderSearchInput from \"./header-search-input\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        flexDirection: \"column\"\r\n    },\r\n    headerTitle: {\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        color: theme.palette.primary.main,\r\n        fontSize: \"1.71rem\"\r\n    },\r\n    headerTitleLink: {\r\n        textDecoration: \"none\"\r\n    },\r\n    headerStoreInfo: {\r\n        textTransform: \"uppercase\",\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        fontSize: \"0.85rem\",\r\n        color: theme.palette.grey[600]\r\n    }\r\n}))\r\n\r\nconst Header = () => {\r\n    const classes = useStyles()\r\n\r\n    useEffect(() => {\r\n        EphemeralStore.fetchNearestStore()\r\n    }, [])\r\n\r\n    return (\r\n        <header className={classes.root}>\r\n            <Link to=\"/\" className={classes.headerTitleLink}>\r\n                <Typography\r\n                    variant=\"h4\"\r\n                    component=\"h1\"\r\n                    className={classes.headerTitle}\r\n                >\r\n                    we<HeartIcon />shoes\r\n                </Typography>\r\n            </Link>\r\n\r\n            <Typography variant=\"body1\" component=\"p\" className={classes.headerStoreInfo}>\r\n                {\r\n                    EphemeralStore.store.error\r\n                    ? \"\"\r\n                    : EphemeralStore.store.name\r\n                        ? `${EphemeralStore.store.name} - ${EphemeralStore.store.id}`\r\n                        : \"Determining Location...\"\r\n                }\r\n            </Typography>\r\n\r\n            {\r\n                EphemeralStore.store.name\r\n                ? <HeaderSearchInput />\r\n                : \"\"\r\n            }\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default view(Header)\r\n","import React, { useEffect } from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport EphemeralStore from \"../stores/ephemeralStore\"\r\n\r\nimport { Modal, Paper, Backdrop, Grow } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport BarcodeScanner from \"react-webcam-barcode-scanner\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    modalContainer: {\r\n        padding: theme.spacing(2),\r\n        margin: `${theme.spacing(4)}px auto`,\r\n        maxWidth: 500\r\n    },\r\n    modalPaper: {\r\n        outline: 0,\r\n        flexGrow: 1,\r\n        width: \"100%\",\r\n        padding: theme.spacing(1),\r\n        borderRadius: theme.shape.borderRadius * 2,\r\n\r\n        \"& video\": {\r\n            marginBottom: theme.spacing(-1) + 1,\r\n            borderRadius: theme.shape.borderRadius\r\n        }\r\n    }\r\n}))\r\n\r\nconst ScannerModal = () => {\r\n    const classes = useStyles()\r\n    const history = useHistory()\r\n\r\n    const onModalCloseHandler = () => EphemeralStore.scanOpen = false\r\n\r\n    let scanDebounce = false\r\n    const onBarcodeScanned = (err, result) => {\r\n        if (scanDebounce || err || !result) return\r\n        scanDebounce = true\r\n        \r\n        const fullBarcode = (result.text ?? \"\").trim().replace(/[^\\d]/g, \"\")\r\n        const styleCode = fullBarcode.substr(0, 5)\r\n\r\n        if (styleCode.length !== 5) {\r\n            scanDebounce = false\r\n            return\r\n        }\r\n\r\n        onModalCloseHandler()\r\n\r\n        history.push(`/product/${styleCode}`)\r\n        scanDebounce = false\r\n    }\r\n\r\n    useEffect(() => {\r\n        const { search } = history.location\r\n\r\n        if (search === \"?scan\" && !EphemeralStore.scanOpen)\r\n            EphemeralStore.scanOpen = true\r\n    })\r\n\r\n    return (\r\n        <Modal\r\n            open={EphemeralStore.scanOpen}\r\n            onClose={onModalCloseHandler}\r\n            BackdropComponent={Backdrop}\r\n            className={classes.modalContainer}\r\n        >\r\n            <Grow in={EphemeralStore.scanOpen}>\r\n                <Paper className={classes.modalPaper}>\r\n                    <BarcodeScanner\r\n                        width=\"100%\"\r\n                        height=\"100%\"\r\n                        onUpdate={onBarcodeScanned}\r\n                    />\r\n                </Paper>\r\n            </Grow>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default view(ScannerModal)\r\n","import React from \"react\"\r\n\r\nimport { CircularProgress } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"block\",\r\n    margin: `${theme.spacing(3)}px auto`\r\n  }\r\n}))\r\n\r\nconst CentreSpinner = (...props) => {\r\n  const classes = useStyles()\r\n  return <CircularProgress className={classes.root} {...props} />\r\n}\r\n\r\nexport default CentreSpinner\r\n","import { store, autoEffect } from \"@risingstack/react-easy-state\"\r\n\r\nconst storageKey = \"_state\"\r\nconst savedState = JSON.parse(localStorage.getItem(storageKey))\r\n\r\nconst PersistentStore = store({\r\n    data: {\r\n        history: [],\r\n        ...savedState\r\n    },\r\n\r\n    pushHistory: async (productInfo) => {\r\n        let matchedIndex = undefined\r\n        for (let idx in PersistentStore.data.history) {\r\n            if (PersistentStore.data.history[idx].StyleCode === productInfo.StyleCode) {\r\n                matchedIndex = idx\r\n                break\r\n            }\r\n        }\r\n\r\n        if (matchedIndex === undefined) {\r\n            PersistentStore.data.history.unshift({\r\n                StyleCode: productInfo.StyleCode,\r\n                Name: productInfo.Name,\r\n                Price: productInfo.Price,\r\n                Thumbnail: productInfo.Thumbnail\r\n            })\r\n        } else {\r\n            PersistentStore.data.history.splice(\r\n                0, 0, PersistentStore.data.history.splice(matchedIndex, 1)[0]\r\n            )\r\n        }\r\n\r\n        while (PersistentStore.data.history.length > 8) {\r\n            PersistentStore.data.history.pop()\r\n        }\r\n    },\r\n\r\n    clearHistory: async () => PersistentStore.data.history = []\r\n})\r\n\r\nautoEffect(() => {\r\n    localStorage.setItem(storageKey, JSON.stringify(PersistentStore.data))\r\n})\r\n\r\nexport default PersistentStore\r\n","import React from \"react\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport PersistentStore from \"../stores/persistentStore\"\r\n\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport { Grid, Typography, Card, CardContent, CardMedia, CardActionArea } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    productCard: {\r\n        backgroundColor: theme.palette.grey[300],\r\n        maxHeight: 72\r\n    },\r\n    cardRoot: {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        alignItems: \"start\"\r\n    },\r\n    cardThumb: {\r\n        height: 64,\r\n        width: 64,\r\n        margin: theme.spacing(.5),\r\n        backgroundColor: \"white\",\r\n        borderRadius: theme.shape.borderRadius * .5,\r\n        flexShrink: 0,\r\n        flexGrow: 0\r\n    },\r\n    cardContent: {\r\n        flexGrow: 1,\r\n        padding: theme.spacing(.5),\r\n        overflow: \"hidden\"\r\n    },\r\n    cardTitle: {\r\n        fontSize: \"1rem\",\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        width: \"100%\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\",\r\n        whiteSpace: \"nowrap\"\r\n    },\r\n    cardStyleCode: {\r\n        fontSize: \"0.71rem\",\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        color: theme.palette.grey[600],\r\n        marginTop: \"-0.29rem\"\r\n    },\r\n    cardPrice: {\r\n        fontSize: \"1rem\",\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n        marginTop: \"auto\"\r\n    }\r\n}))\r\n\r\nconst HistoryList = () => {\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <Grid container spacing={1}>\r\n            {\r\n                PersistentStore.data.history.map(\r\n                    product => (\r\n                        <Grid item xs={12} key={product.StyleCode}>\r\n                            <Card elevation={0} className={classes.productCard}>\r\n                                <CardActionArea \r\n                                    component={Link}\r\n                                    to={`/product/${product.StyleCode}`}\r\n                                    className={classes.cardRoot}\r\n                                >\r\n                                    <CardMedia\r\n                                        image={product.Thumbnail}\r\n                                        title={product.Name}\r\n                                        className={classes.cardThumb}\r\n                                    />\r\n\r\n                                    <CardContent className={classes.cardContent}>\r\n                                        <Typography\r\n                                            component=\"h5\"\r\n                                            className={classes.cardTitle}\r\n                                        >\r\n                                            { product.Name }\r\n                                        </Typography>\r\n\r\n                                        <Typography\r\n                                            variant=\"subtitle1\"\r\n                                            className={classes.cardStyleCode}\r\n                                        >\r\n                                            { product.StyleCode }\r\n                                        </Typography>\r\n\r\n                                        <Typography\r\n                                            variant=\"body1\"\r\n                                            className={classes.cardPrice}\r\n                                        >\r\n                                            £{ product.Price }\r\n                                        </Typography>\r\n                                    </CardContent>\r\n                                </CardActionArea>\r\n                            </Card>\r\n                        </Grid>\r\n                    )\r\n                )\r\n            }\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default view(HistoryList)\r\n","import React from \"react\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport PersistentStore from \"../stores/persistentStore\"\r\n\r\nimport { Typography, ButtonBase } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport HistoryList from \"../components/history-list\"\r\nimport { Helmet } from \"react-helmet\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    historyHeader: {\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        fontSize: \"1rem\"\r\n    },\r\n    historyClearText: {\r\n        textTransform: \"uppercase\",\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        fontSize: \"0.75rem\",\r\n        color: theme.palette.grey[600]\r\n    },\r\n    historyClearButton: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"start\",\r\n        clear: \"both\",\r\n        marginBottom: theme.spacing(1)\r\n    }\r\n}))\r\n\r\nconst HomeView = () => {\r\n    const classes = useStyles()\r\n\r\n    const onClearHistoryClicked = evt => {\r\n        evt.preventDefault()\r\n        PersistentStore.clearHistory()\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Helmet title=\"Home\" />\r\n\r\n            <ButtonBase\r\n                className={classes.historyClearButton}\r\n                onClick={onClearHistoryClicked}\r\n            >\r\n                <Typography variant=\"h2\" className={classes.historyHeader}>\r\n                    History\r\n                </Typography>\r\n\r\n                <Typography variant=\"body1\" className={classes.historyClearText}>\r\n                    Clear\r\n                </Typography>\r\n            </ButtonBase>\r\n\r\n            <HistoryList />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default view(HomeView)\r\n","import { useEffect, useState } from \"react\"\r\n\r\nconst RestAPI = \"https://untitled-bzxwlvj4h4dk.runkit.sh\"\r\n\r\nconst useAPI = (path = \"\", options = {}) => {\r\n  const [ data, setData ] = useState({})\r\n  const [ loading, setLoading ] = useState(true)\r\n  const [ hasError, setError ] = useState()\r\n\r\n  useEffect(() => {\r\n    setLoading(true)\r\n\r\n    fetch(`${RestAPI}${path}`, options)\r\n      .then(res => res.json())\r\n      .then(({ result }) => setData(result))\r\n      .catch(err => setError(err.message ?? true))\r\n      .finally(() => setLoading(false))\r\n  }, [ path ])\r\n\r\n  return [ data, loading, hasError ]\r\n}\r\n\r\nexport default useAPI\r\nexport { RestAPI }\r\n","import React, { useState } from \"react\"\r\nimport clsx from \"clsx\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport EphemeralStore from \"../stores/ephemeralStore\"\r\n\r\nimport { Card, CardActionArea, Typography, CardContent } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport { RestAPI } from \"../hooks/useAPI\"\r\nimport CentreSpinner from \"./centre-spinner\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    sizeCard: {\r\n        padding: 0,\r\n        backgroundColor: theme.palette.background.default\r\n    },\r\n    cardMain: {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"start\"\r\n    },\r\n    cardSize: {\r\n        width: 55,\r\n        height: 55,\r\n        display: \"flex\",\r\n        flexShrink: 0,\r\n        flexGrow: 0,\r\n        backgroundColor: theme.palette.grey[300],\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        borderRadius: theme.shape.borderRadius,\r\n        marginLeft: theme.spacing(1.5)\r\n    },\r\n    cardSizePrimary: {\r\n        backgroundColor: theme.palette.primary.main\r\n    },\r\n    cardSizeText: {\r\n        color: theme.palette.getContrastText(theme.palette.grey[300]),\r\n        fontSize: \"1.71rem\",\r\n        verticalAlign: \"middle\",\r\n        fontWeight: theme.typography.fontWeightBold\r\n    },\r\n    cardSizeTextPrimary: {\r\n        color: theme.palette.getContrastText(theme.palette.primary.main)\r\n    },\r\n    cardContent: {\r\n        flexGrow: 1,\r\n        overflow: \"hidden\"\r\n    },\r\n    storeStockText: {\r\n        fontSize: theme.typography.fontSize,\r\n        fontWeight: theme.typography.fontWeightBold\r\n    },\r\n    onlineStockText: {\r\n        fontSize: theme.typography.fontSize,\r\n        fontWeight: theme.typography.fontWeightRegular\r\n    }\r\n}))\r\n\r\nconst ProductStockSize = ({\r\n    styleCode = \"\",\r\n    size = {}\r\n}) => {\r\n    const classes = useStyles()\r\n\r\n    const {\r\n        store: {\r\n            id: storeId,\r\n            name: storeName\r\n        }\r\n    } = EphemeralStore\r\n\r\n    const [ inStock, setInStock ] = useState(false)\r\n    const [ isLoading, setLoading ] = useState(false)\r\n    const [ stockRequested, setRequested ] = useState(false)\r\n    const [ hasError, setError ] = useState(false)\r\n\r\n    const onCardClicked = evt => {\r\n        evt.preventDefault()\r\n\r\n        setRequested(true)\r\n        setLoading(true)\r\n\r\n        fetch(`${RestAPI}/stock/${storeId}/${styleCode}${size.SizeCode}`)\r\n            .then(res => res.json()).then(({ result }) => {\r\n                setInStock(result?.InStock)\r\n            })\r\n            .catch(err => setError(err.message))\r\n            .finally(() => setLoading(false))\r\n    }\r\n\r\n    return (\r\n        <Card elevation={0} className={classes.sizeCard} key={size.SizeCode}>\r\n            <CardActionArea\r\n                className={classes.cardMain}\r\n                onClick={onCardClicked}\r\n            >\r\n                <div className={\r\n                    clsx(classes.cardSize, {\r\n                        [classes.cardSizePrimary]: inStock\r\n                    })\r\n                }>\r\n                    <Typography variant=\"h6\" className={\r\n                        clsx(classes.cardSizeText, {\r\n                            [classes.cardSizeTextPrimary]: inStock\r\n                        })\r\n                    }>\r\n                        {\r\n                            isLoading\r\n                            ? <CentreSpinner size=\"1.71rem\" />\r\n                            : size.Size\r\n                        }\r\n                    </Typography>\r\n                </div>\r\n\r\n                <CardContent className={classes.cardContent}>\r\n                    <Typography variant=\"h6\" className={classes.storeStockText}>\r\n                        {\r\n                            hasError\r\n                            ? \"An error ocurred\"\r\n                            : inStock\r\n                                ? `In stock in ${storeName}`\r\n                                : isLoading\r\n                                    ? \"Checking the stock room...\"\r\n                                    : stockRequested\r\n                                        ? `Out of stock in ${storeName}`\r\n                                        : `Tap to check stock in ${storeName}`\r\n                        }\r\n                    </Typography>\r\n\r\n                    <Typography variant=\"h6\" className={classes.onlineStockText}>\r\n                        {\r\n                            (size.Stock > 0)\r\n                            ? `x${size.Stock?.toLocaleString()} in stock online`\r\n                            : \"Out of stock online\"\r\n                        }\r\n                    </Typography>\r\n                </CardContent>\r\n            </CardActionArea>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default view(ProductStockSize)\r\n","import React from \"react\"\r\n\r\nimport { Grid } from \"@material-ui/core\"\r\n\r\nimport ProductStockSize from \"./product-stock-size\"\r\n\r\nconst ProductStock = ({ styleCode = \"\", sizeRange = [], ...props }) => {\r\n    return (\r\n        <Grid container spacing={.5} {...props}>\r\n            {\r\n                sizeRange.map(size => (\r\n                    <Grid item xs={12} key={size.SizeCode}>\r\n                        <ProductStockSize\r\n                            styleCode={styleCode}\r\n                            size={size}\r\n                        />\r\n                    </Grid>\r\n                ))\r\n            }\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default ProductStock\r\n","import React, { useLayoutEffect } from \"react\"\r\nimport { useParams } from \"react-router-dom\"\r\n\r\nimport { Helmet } from \"react-helmet\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport PersistentStore from \"../stores/persistentStore\"\r\n\r\nimport { Typography, Breadcrumbs, Fab, Tooltip } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport { Alert, AlertTitle } from \"@material-ui/lab\"\r\n\r\nimport BreadcrumbSeparatorIcon from \"@material-ui/icons/NavigateNext\"\r\nimport ShopIcon from \"@material-ui/icons/ShoppingCart\"\r\n\r\nimport useAPI from \"../hooks/useAPI\"\r\nimport CentreSpinner from \"../components/centre-spinner\"\r\nimport ProductStock from \"../components/product-stock\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    prodTitle: {\r\n        fontSize: \"1.71rem\",\r\n        textOverflow: \"ellipsis\",\r\n        whiteSpace: \"nowrap\",\r\n        overflow: \"hidden\",\r\n        display: \"block\"\r\n    },\r\n    categoriesContainer: {\r\n        display: \"flex\"\r\n    },\r\n    catBreadcrumbs: {\r\n        flexGrow: 1\r\n    },\r\n    catCrumb: {\r\n        fontSize: \"0.86rem\",\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        color: theme.palette.text.disabled\r\n    },\r\n    priceText: {\r\n        fontSize: \"1.71rem\",\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    coverImage: {\r\n        display: \"flex\",\r\n        position: \"relative\",\r\n        width: \"100%\",\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        overflow: \"hidden\",\r\n        borderRadius: theme.shape.borderRadius,\r\n        marginTop: theme.spacing(1),\r\n        border: `1px solid ${theme.palette.divider}`,\r\n\r\n        \"& img\": {\r\n            width: \"100%\"\r\n        }\r\n    },\r\n    fabCoverImage: {\r\n        position: \"absolute\",\r\n        bottom: theme.spacing(2),\r\n        right: theme.spacing(2)\r\n    },\r\n    stockSizeContainer: {\r\n        marginTop: theme.spacing(1)\r\n    }\r\n}))\r\n\r\nconst ProductView = () => {\r\n    const classes = useStyles()\r\n    const { style } = useParams()\r\n\r\n    const [ info, loading, err ] = useAPI(`/product/${style}`)\r\n\r\n    useLayoutEffect(() => {\r\n        if (!loading && !err && info.Name)\r\n            PersistentStore.pushHistory(info)\r\n    })\r\n\r\n    if (loading) {\r\n        return (\r\n            <>\r\n                <Helmet title=\"Loading...\" />\r\n                <CentreSpinner />\r\n            </>\r\n        )\r\n    } else if (err || !info.Name) {\r\n        return (\r\n            <>\r\n                <Helmet title=\"Error\" />\r\n\r\n                <Alert severity=\"error\">\r\n                    <AlertTitle>Error</AlertTitle>\r\n                    {\r\n                        err\r\n                        ? `${err}`\r\n                        : !info.Name\r\n                            ? <><strong>{style}</strong> could not be found</>\r\n                            : \"Failed to fetch data\"\r\n                    }\r\n                </Alert>\r\n            </>\r\n        )\r\n    } else {\r\n        return (\r\n            <div>\r\n                <Helmet title={info.Name} />\r\n\r\n                <Typography variant=\"h2\" className={classes.prodTitle}>\r\n                    {info.Name}\r\n                </Typography>\r\n\r\n                <div className={classes.categoriesContainer}>\r\n                    <Breadcrumbs\r\n                        separator={\r\n                            <BreadcrumbSeparatorIcon className={classes.catCrumb} />\r\n                        }\r\n                        className={classes.catBreadcrumbs}\r\n                    >\r\n                        <Typography className={classes.catCrumb}>\r\n                            { info.Category }\r\n                        </Typography>\r\n\r\n                        <Typography className={classes.catCrumb}>\r\n                            { info.Subcategory }\r\n                        </Typography>\r\n                    </Breadcrumbs>\r\n\r\n                    <Typography className={classes.catCrumb}>\r\n                        { info.StyleCode }\r\n                    </Typography>\r\n                </div>\r\n\r\n                <Typography variant=\"body2\" className={classes.priceText}>\r\n                        £{ info.Price }\r\n                </Typography>\r\n\r\n                <div className={classes.coverImage}>\r\n                    <img\r\n                        src={info.Thumbnail}\r\n                        alt={info.Name}\r\n                    />\r\n\r\n                    <Tooltip title=\"View on Shoe Zone\" placement=\"top\">\r\n                        <Fab\r\n                            color=\"primary\"\r\n                            aria-label=\"View on Shoe Zone\"\r\n                            className={classes.fabCoverImage}\r\n                            component=\"a\"\r\n                            target=\"_blank\"\r\n                            href={`https://www.shoezone.com/Products/--${info.StyleCode}`}\r\n                        >\r\n                            <ShopIcon />\r\n                        </Fab>\r\n                    </Tooltip>\r\n                </div>\r\n\r\n                <ProductStock\r\n                    styleCode={info.StyleCode}\r\n                    sizeRange={info.SizeRange}\r\n                    className={classes.stockSizeContainer}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default view(ProductView)\r\n","import React from \"react\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport EphemeralStore from \"../stores/ephemeralStore\"\r\n\r\nimport { Helmet } from \"react-helmet\"\r\n\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\"\r\nimport { CssBaseline } from \"@material-ui/core\"\r\nimport { makeStyles, createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\"\r\n\r\nimport Header from \"./header\"\r\nimport ScannerModal from \"./scanner-modal\"\r\nimport CentreSpinner from \"./centre-spinner\"\r\n\r\nimport HomeView from \"../views/index\"\r\nimport ProductView from \"../views/product\"\r\n\r\nconst defaultTheme = createMuiTheme({\r\n  typography: {\r\n    fontFamily: `Montserrat, Helvetica, Arial, sans-serif`,\r\n  },\r\n  palette: {\r\n    primary: {\r\n      main: \"#002F87\"\r\n    }\r\n  }\r\n})\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    overflow: \"hidden\",\r\n    padding: theme.spacing(2),\r\n    maxWidth: 500,\r\n    margin: `${theme.spacing(1)}px auto`\r\n  }\r\n}))\r\n\r\nconst App = () => {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div>\r\n      <CssBaseline />\r\n\r\n      <Helmet\r\n        titleTemplate=\"%s - we♥shoes\"\r\n        defaultTitle=\"we♥shoes\"\r\n        title=\"Loading...\"\r\n      />\r\n\r\n      <ThemeProvider theme={defaultTheme}>\r\n        <div className={classes.root}>\r\n          <Router>\r\n            <Header />\r\n\r\n            {\r\n              EphemeralStore.store.error\r\n              ? `Error: ${EphemeralStore.store.error}`\r\n              : EphemeralStore.store.name\r\n                ? <Switch>\r\n                    <Route path=\"/\" exact component={HomeView} />\r\n                    <Route path=\"/product/:style\" component={ProductView} />\r\n                  </Switch>\r\n                : <CentreSpinner />\r\n            }\r\n\r\n            <ScannerModal />\r\n          </Router>\r\n        </div>\r\n      </ThemeProvider>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default view(App)\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\n\r\nimport App from \"./components/app\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  \r\n  document.querySelector(\"#app\")\r\n)\r\n"],"sourceRoot":""}