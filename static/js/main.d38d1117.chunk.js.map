{"version":3,"sources":["serviceWorker.js","stores/ephemeralStore.jsx","components/header-search-input.jsx","components/header.jsx","components/scanner-modal.jsx","components/centre-spinner.jsx","stores/persistentStore.jsx","components/history-list.jsx","views/index.jsx","hooks/useAPI.jsx","components/product-stock-size.jsx","components/product-stock.jsx","views/product.jsx","components/app.jsx","index.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","error","console","EphemeralStore","store","scanOpen","fflags","fetchNearestStore","_fetchNearestStore","Object","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","abrupt","Promise","resolve","reject","geolocation","getCurrentPosition","enableHighAccuracy","coords","latitude","longitude","lat","lon","fetch","concat","process","res","json","result","name","storeName","id","storeId","err","message","stop","apply","this","arguments","useStyles","makeStyles","theme","root","width","margin","spacing","codeInputBox","borderRadius","shape","& input::-webkit-outer-spin-button, input::-webkit-inner-spin-button","WebkitAppearance","view","_useState","useState","_useState2","slicedToArray","styleCode","setStyleCode","classes","history","useHistory","react_default","createElement","className","onSubmit","evt","preventDefault","style","trim","replace","substr","length","push","FormControl","variant","fullWidth","InputLabel","htmlFor","FilledInput","type","min","max","endAdornment","InputAdornment","position","Tooltip","title","arrow","IconButton","aria-label","edge","onClick","FilterCenterFocus_default","disableUnderline","autoComplete","onInput","target","value","display","alignItems","justifyContent","flexDirection","headerTitle","fontWeight","typography","fontWeightBold","color","palette","primary","main","fontSize","headerTitleLink","textDecoration","headerStoreInfo","textTransform","grey","useEffect","react_router_dom","to","Typography","component","Favorite_default","header_search_input","modalContainer","padding","maxWidth","modalPaper","outline","flexGrow","& video","marginBottom","onModalCloseHandler","scanDebounce","search","Modal","open","onClose","BackdropComponent","Backdrop","Grow","in","Paper","dist_default","height","_result$text","text","CentreSpinner","props","CircularProgress","assign","savedState","JSON","parse","localStorage","getItem","PersistentStore","data","objectSpread2","pushHistory","_pushHistory","productInfo","matchedIndex","idx","_productInfo$offers","undefined","t0","keys","t1","done","StyleCode","unshift","Name","Price","price","current","Currency","currency","Thumbnail","thumbnail","Offers","offers","splice","pop","_x","clearHistory","_clearHistory","_callee2","_context2","autoEffect","setItem","stringify","productCard","backgroundColor","maxHeight","cardRoot","cardThumb","flexShrink","cardContent","overflow","cardTitle","textOverflow","whiteSpace","cardStyleCode","marginTop","cardOffers","cardPrice","fontWeightRegular","miniInfo","flexSpacer","Grid","container","map","product","_product$Offers","item","xs","key","Card","elevation","CardActionArea","Link","CardMedia","image","CardContent","offer","_offer$abbr","abbr","historyHeader","historyClearText","historyClearButton","clear","Helmet","ButtonBase","history_list","useAPI","path","options","setData","_useState3","_useState4","loading","setLoading","_useState5","_useState6","hasError","setError","_err$message","finally","sizeCard","background","default","cardMain","cardSize","marginLeft","cardSizePrimary","cardSizeText","getContrastText","verticalAlign","cardSizeTextPrimary","storeStockText","onlineStockText","SizeGuide","letter","size","equiv","gender","eu","uk","category","_category$","_category$$","_category$2","_category$2$","_size$stock$warehouse","_EphemeralStore$store","inStock","setInStock","isLoading","stockRequested","setRequested","_useState7","_useState8","sizeType","Number","determineSizeType","sizeTooltipContent","_ref","_matchedSize$","euSize","Math","floor","matchedSize","filter","euSizeToUK","toUpperCase","_SizeGuide$letter$fil","_SizeGuide$letter$fil2","_SizeGuide$letter$fil3","valSize","valGend","letterSizeToRange","code","placement","clsx","[object Object]","centre_spinner","stock","warehouse","toLocaleString","ProductStock","_ref$styleCode","_ref$sizeRange","sizeRange","_ref$category","objectWithoutProperties","product_stock_size","prodTitle","categoriesContainer","catBreadcrumbs","catCrumb","disabled","priceText","coverImage","border","divider","productThumb","fabCoverImage","bottom","right","stockSizeContainer","offersContainer","top","left","offerIcon","useParams","_useAPI","_useAPI2","info","useLayoutEffect","Fragment","Alert","severity","AlertTitle","Breadcrumbs","separator","NavigateNext_default","_info$categories","categories","_info$price","_info$offers","src","alt","Fab","href","ShoppingCart_default","product_stock","_info$categories2","defaultTheme","createMuiTheme","fontFamily","geoError","_EphemeralStore$store2","CssBaseline","titleTemplate","defaultTitle","ThemeProvider","header","toLowerCase","indexOf","react_router","exact","HomeView","ProductView","scanner_modal","ReactDOM","render","StrictMode","app","document","querySelector","URL","origin","addEventListener","headers","Service-Worker","response","contentType","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.d38d1117.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          // console.log(\r\n          //   'This web app is being served cache-first by a service ' +\r\n          //     'worker. To learn more, visit https://cra.link/PWA'\r\n          // );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              // console.log(\r\n              //   'New content is available and will be used when all ' +\r\n              //     'tabs for this page are closed. See https://cra.link/PWA.'\r\n              // );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              // console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      // console.log(\r\n      //   'No internet connection found. App is running in offline mode.'\r\n      // );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        // console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import { store } from \"@risingstack/react-easy-state\"\r\n\r\nconst getGeoCoords = () => new Promise((resolve, reject) => {\r\n    if (!navigator.geolocation)\r\n        return reject(\"Geolocation API is not supported\")\r\n\r\n    navigator.geolocation.getCurrentPosition(resolve, reject, {\r\n        enableHighAccuracy: false\r\n    })\r\n}).then(({ coords: { latitude, longitude } }) => ({\r\n    lat: latitude,\r\n    lon: longitude\r\n}))\r\n\r\nconst EphemeralStore = store({\r\n    store: {},\r\n    scanOpen: false,\r\n    fflags: {},\r\n\r\n    fetchNearestStore: async () => getGeoCoords().then(\r\n        ({ lat, lon }) => fetch(`${process.env.REACT_APP_API_URL}/api/locate/?lat=${lat}&lon=${lon}`)\r\n    ).then(res => res.json()).then(({ result }) => {\r\n        EphemeralStore.store = {\r\n            name: result.storeName,\r\n            id: result.storeId\r\n        }\r\n    }).catch(err => {\r\n        EphemeralStore.store.error = err.message\r\n    })\r\n})\r\n\r\nexport default EphemeralStore\r\n","import React, { useState } from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport EphemeralStore from \"../stores/ephemeralStore\"\r\n\r\nimport { FormControl, InputLabel, FilledInput, InputAdornment, IconButton, Tooltip } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport ScanCodeIcon from \"@material-ui/icons/FilterCenterFocus\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: \"100%\",\r\n        margin: theme.spacing(3, 0)\r\n    },\r\n    codeInputBox: {\r\n        borderRadius: theme.shape.borderRadius,\r\n        \r\n        \"& input::-webkit-outer-spin-button, input::-webkit-inner-spin-button\": {\r\n            WebkitAppearance: \"none\"\r\n        }\r\n    }\r\n}))\r\n\r\nconst HeaderSearchInput = () => {\r\n    const [ styleCode, setStyleCode ] = useState()\r\n    const classes = useStyles()\r\n    const history = useHistory()\r\n\r\n    const onSearchSubmit = evt => {\r\n        evt.preventDefault()\r\n        \r\n        const style = styleCode.trim().replace(/[^\\d]/g, \"\").substr(0, 5)\r\n        if (style.length !== 5) return\r\n\r\n        history.push(`/product/${style}`)\r\n    }\r\n\r\n    const onScanButtonClick = evt => {\r\n        evt.preventDefault()\r\n        EphemeralStore.scanOpen = true\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <form onSubmit={onSearchSubmit}>\r\n                <FormControl variant=\"filled\" fullWidth>\r\n                    <InputLabel htmlFor=\"product-code-search\">\r\n                        Product code\r\n                    </InputLabel>\r\n\r\n                    <FilledInput\r\n                        id=\"product-code-search\"\r\n                        type=\"number\"\r\n                        min={10000}\r\n                        max={99999}\r\n\r\n                        endAdornment={\r\n                            <InputAdornment position=\"end\">\r\n                                <Tooltip title=\"Scan a barcode\" arrow>\r\n                                    <IconButton\r\n                                        aria-label=\"Scan a barcode\"\r\n                                        edge=\"end\"\r\n                                        onClick={onScanButtonClick}\r\n                                    >\r\n                                        <ScanCodeIcon />\r\n                                    </IconButton>\r\n                                </Tooltip>\r\n                            </InputAdornment>\r\n                        }\r\n\r\n                        disableUnderline\r\n                        autoComplete=\"off\"\r\n                        className={classes.codeInputBox}\r\n\r\n                        onInput={\r\n                            ({ target: { value } }) => setStyleCode(value)\r\n                        }\r\n                    />\r\n                </FormControl>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default view(HeaderSearchInput)\r\n","import React, { useEffect } from \"react\"\r\n\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport EphemeralStore from \"../stores/ephemeralStore\"\r\n\r\nimport { Typography } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport HeartIcon from \"@material-ui/icons/Favorite\"\r\n\r\nimport HeaderSearchInput from \"./header-search-input\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        flexDirection: \"column\"\r\n    },\r\n    headerTitle: {\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        color: theme.palette.primary.main,\r\n        fontSize: \"1.71rem\"\r\n    },\r\n    headerTitleLink: {\r\n        textDecoration: \"none\"\r\n    },\r\n    headerStoreInfo: {\r\n        textTransform: \"uppercase\",\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        fontSize: \"0.85rem\",\r\n        color: theme.palette.grey[600]\r\n    }\r\n}))\r\n\r\nconst Header = () => {\r\n    const classes = useStyles()\r\n\r\n    useEffect(() => {\r\n        EphemeralStore.fetchNearestStore()\r\n    }, [])\r\n\r\n    return (\r\n        <header className={classes.root}>\r\n            <Link to=\"/\" className={classes.headerTitleLink}>\r\n                <Typography\r\n                    variant=\"h4\"\r\n                    component=\"h1\"\r\n                    className={classes.headerTitle}\r\n                >\r\n                    we<HeartIcon />shoes\r\n                </Typography>\r\n            </Link>\r\n\r\n            <Typography variant=\"body1\" component=\"p\" className={classes.headerStoreInfo}>\r\n                {\r\n                    EphemeralStore.store.error\r\n                        ? \"\"\r\n                        : EphemeralStore.store.name\r\n                            ? `${EphemeralStore.store.name} - ${EphemeralStore.store.id}`\r\n                            : \"Determining Location...\"\r\n                }\r\n            </Typography>\r\n\r\n            {\r\n                EphemeralStore.store.name\r\n                ? <HeaderSearchInput />\r\n                : \"\"\r\n            }\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default view(Header)\r\n","import React, { useEffect } from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport EphemeralStore from \"../stores/ephemeralStore\"\r\n\r\nimport { Modal, Paper, Backdrop, Grow } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport BarcodeScanner from \"react-webcam-barcode-scanner\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    modalContainer: {\r\n        padding: theme.spacing(2),\r\n        margin: `${theme.spacing(4)}px auto`,\r\n        maxWidth: 500\r\n    },\r\n    modalPaper: {\r\n        outline: 0,\r\n        flexGrow: 1,\r\n        width: \"100%\",\r\n        padding: theme.spacing(1),\r\n        borderRadius: theme.shape.borderRadius * 2,\r\n\r\n        \"& video\": {\r\n            marginBottom: theme.spacing(-1) + 1,\r\n            borderRadius: theme.shape.borderRadius\r\n        }\r\n    }\r\n}))\r\n\r\nconst ScannerModal = () => {\r\n    const classes = useStyles()\r\n    const history = useHistory()\r\n\r\n    const onModalCloseHandler = () => EphemeralStore.scanOpen = false\r\n\r\n    let scanDebounce = false\r\n    const onBarcodeScanned = (err, result) => {\r\n        if (scanDebounce || err || !result) return\r\n        scanDebounce = true\r\n        \r\n        const fullBarcode = (result.text ?? \"\").trim().replace(/[^\\d]/g, \"\")\r\n        const styleCode = fullBarcode.substr(0, 5)\r\n\r\n        if (styleCode.length !== 5) {\r\n            scanDebounce = false\r\n            return\r\n        }\r\n\r\n        onModalCloseHandler()\r\n\r\n        history.push(`/product/${styleCode}`)\r\n        scanDebounce = false\r\n    }\r\n\r\n    useEffect(() => {\r\n        const { search } = history.location\r\n\r\n        if (search === \"?scan\" && !EphemeralStore.scanOpen)\r\n            EphemeralStore.scanOpen = true\r\n    })\r\n\r\n    return (\r\n        <Modal\r\n            open={EphemeralStore.scanOpen}\r\n            onClose={onModalCloseHandler}\r\n            BackdropComponent={Backdrop}\r\n            className={classes.modalContainer}\r\n        >\r\n            <Grow in={EphemeralStore.scanOpen}>\r\n                <Paper className={classes.modalPaper}>\r\n                    <BarcodeScanner\r\n                        width=\"100%\"\r\n                        height=\"100%\"\r\n                        onUpdate={onBarcodeScanned}\r\n                    />\r\n                </Paper>\r\n            </Grow>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default view(ScannerModal)\r\n","import React from \"react\"\r\n\r\nimport { CircularProgress } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"block\",\r\n    margin: `${theme.spacing(3)}px auto`\r\n  }\r\n}))\r\n\r\nconst CentreSpinner = (...props) => {\r\n  const classes = useStyles()\r\n  return <CircularProgress className={classes.root} {...props} />\r\n}\r\n\r\nexport default CentreSpinner\r\n","import { store, autoEffect } from \"@risingstack/react-easy-state\"\r\n\r\nconst storageKey = \"_state\"\r\nconst savedState = JSON.parse(localStorage.getItem(storageKey))\r\n\r\nconst PersistentStore = store({\r\n    data: {\r\n        history: [],\r\n        ...savedState\r\n    },\r\n\r\n    pushHistory: async (productInfo) => {\r\n        let matchedIndex = undefined\r\n        for (let idx in PersistentStore.data.history) {\r\n            if (PersistentStore.data.history[idx].StyleCode === productInfo.id) {\r\n                matchedIndex = idx\r\n                break\r\n            }\r\n        }\r\n\r\n        if (matchedIndex === undefined) {\r\n            PersistentStore.data.history.unshift({\r\n                StyleCode: productInfo.id,\r\n                Name: productInfo.name,\r\n                Price: productInfo.price.current,\r\n                Currency: productInfo.currency,\r\n                Thumbnail: productInfo.thumbnail,\r\n                Offers: productInfo.offers ?? []\r\n            })\r\n        } else {\r\n            PersistentStore.data.history.splice(\r\n                0, 0, PersistentStore.data.history.splice(matchedIndex, 1)[0]\r\n            )\r\n        }\r\n\r\n        while (PersistentStore.data.history.length > 8) {\r\n            PersistentStore.data.history.pop()\r\n        }\r\n    },\r\n\r\n    clearHistory: async () => PersistentStore.data.history = []\r\n})\r\n\r\nautoEffect(() => {\r\n    localStorage.setItem(storageKey, JSON.stringify(PersistentStore.data))\r\n})\r\n\r\nexport default PersistentStore\r\n","import React from \"react\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport PersistentStore from \"../stores/persistentStore\"\r\n\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport { Grid, Typography, Card, CardContent, CardMedia, CardActionArea } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    productCard: {\r\n        backgroundColor: theme.palette.grey[300],\r\n        maxHeight: 72\r\n    },\r\n    cardRoot: {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        alignItems: \"start\"\r\n    },\r\n    cardThumb: {\r\n        height: 64,\r\n        width: 64,\r\n        margin: theme.spacing(.5),\r\n        backgroundColor: \"white\",\r\n        borderRadius: theme.shape.borderRadius * .5,\r\n        flexShrink: 0,\r\n        flexGrow: 0\r\n    },\r\n    cardContent: {\r\n        flexGrow: 1,\r\n        padding: theme.spacing(.5),\r\n        overflow: \"hidden\"\r\n    },\r\n    cardTitle: {\r\n        fontSize: \"1rem\",\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        width: \"100%\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\",\r\n        whiteSpace: \"nowrap\"\r\n    },\r\n    cardStyleCode: {\r\n        fontSize: \"0.71rem\",\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        color: theme.palette.grey[600],\r\n        marginTop: \"-0.29rem\"\r\n    },\r\n    cardOffers: {\r\n        fontSize: \"0.71rem\",\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        color: theme.palette.grey[600],\r\n        marginTop: \"-0.29rem\"\r\n    },\r\n    cardPrice: {\r\n        fontSize: \"1rem\",\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n        marginTop: \"auto\"\r\n    },\r\n    miniInfo: {\r\n        display: \"flex\",\r\n        flexDirection: \"row\"\r\n    },\r\n    flexSpacer: {\r\n        display: \"block\",\r\n        flexGrow: 1\r\n    }\r\n}))\r\n\r\nconst HistoryList = () => {\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <Grid container spacing={1}>\r\n            {\r\n                PersistentStore.data.history.map(\r\n                    product => (\r\n                        <Grid item xs={12} key={product.StyleCode}>\r\n                            <Card elevation={0} className={classes.productCard}>\r\n                                <CardActionArea\r\n                                    component={Link}\r\n                                    to={`/product/${product.StyleCode}`}\r\n                                    className={classes.cardRoot}\r\n                                >\r\n                                    <CardMedia\r\n                                        image={product.Thumbnail}\r\n                                        title={product.Name}\r\n                                        className={classes.cardThumb}\r\n                                    />\r\n\r\n                                    <CardContent className={classes.cardContent}>\r\n                                        <Typography\r\n                                            component=\"h5\"\r\n                                            className={classes.cardTitle}\r\n                                        >\r\n                                            { product.Name }\r\n                                        </Typography>\r\n\r\n                                        <div className={classes.miniInfo}>\r\n                                            <Typography\r\n                                                variant=\"subtitle1\"\r\n                                                className={classes.cardStyleCode}\r\n                                            >\r\n                                                { product.StyleCode }\r\n                                            </Typography>\r\n\r\n                                            <div className={classes.flexSpacer}></div>\r\n\r\n                                            {\r\n                                                product?.Offers?.map(offer => (\r\n                                                    <Typography\r\n                                                        variant=\"subtitle1\"\r\n                                                        className={classes.cardOffers}\r\n                                                    >\r\n                                                        { offer?.abbr ?? offer?.name }\r\n                                                    </Typography>\r\n                                                ))\r\n                                            }\r\n                                        </div>\r\n\r\n                                        <Typography\r\n                                            variant=\"body1\"\r\n                                            className={classes.cardPrice}\r\n                                        >\r\n                                            {product?.Currency === \"EUR\" ? \"\\u20AC\" : \"\\u00A3\"}{ product.Price }\r\n                                        </Typography>\r\n                                    </CardContent>\r\n                                </CardActionArea>\r\n                            </Card>\r\n                        </Grid>\r\n                    )\r\n                )\r\n            }\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default view(HistoryList)\r\n","import React from \"react\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport PersistentStore from \"../stores/persistentStore\"\r\n\r\nimport { Typography, ButtonBase } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport HistoryList from \"../components/history-list\"\r\nimport { Helmet } from \"react-helmet\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    historyHeader: {\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        fontSize: \"1rem\"\r\n    },\r\n    historyClearText: {\r\n        textTransform: \"uppercase\",\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        fontSize: \"0.75rem\",\r\n        color: theme.palette.grey[600]\r\n    },\r\n    historyClearButton: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"start\",\r\n        clear: \"both\",\r\n        marginBottom: theme.spacing(1)\r\n    }\r\n}))\r\n\r\nconst HomeView = () => {\r\n    const classes = useStyles()\r\n\r\n    const onClearHistoryClicked = evt => {\r\n        evt.preventDefault()\r\n        PersistentStore.clearHistory()\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Helmet title=\"Home\" />\r\n\r\n            <ButtonBase\r\n                className={classes.historyClearButton}\r\n                onClick={onClearHistoryClicked}\r\n            >\r\n                <Typography variant=\"h2\" className={classes.historyHeader}>\r\n                    History\r\n                </Typography>\r\n\r\n                <Typography variant=\"body1\" className={classes.historyClearText}>\r\n                    Clear\r\n                </Typography>\r\n            </ButtonBase>\r\n\r\n            <HistoryList />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default view(HomeView)\r\n","import { useEffect, useState } from \"react\"\r\n\r\nconst useAPI = (path = \"\", options = {}) => {\r\n  const [ data, setData ] = useState({})\r\n  const [ loading, setLoading ] = useState(true)\r\n  const [ hasError, setError ] = useState()\r\n\r\n  useEffect(() => {\r\n    (() => {\r\n      setLoading(true)\r\n\r\n      return fetch(`${process.env.REACT_APP_API_URL}/api${path}`, options)\r\n        .then(res => res.json())\r\n        .then(({ result }) => setData(result))\r\n        .catch(err => setError(err.message ?? true))\r\n        .finally(() => setLoading(false))\r\n    })()\r\n  }, [ path ])\r\n\r\n  return [ data, loading, hasError ]\r\n}\r\n\r\nexport default useAPI\r\n","import React, { useState } from \"react\"\r\nimport clsx from \"clsx\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport EphemeralStore from \"../stores/ephemeralStore\"\r\n\r\nimport { Card, CardActionArea, Typography, CardContent, Tooltip } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport CentreSpinner from \"./centre-spinner\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    sizeCard: {\r\n        padding: 0,\r\n        backgroundColor: theme.palette.background.default\r\n    },\r\n    cardMain: {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"start\"\r\n    },\r\n    cardSize: {\r\n        width: 55,\r\n        height: 55,\r\n        display: \"flex\",\r\n        flexShrink: 0,\r\n        flexGrow: 0,\r\n        backgroundColor: theme.palette.grey[300],\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        borderRadius: theme.shape.borderRadius,\r\n        marginLeft: theme.spacing(1.5)\r\n    },\r\n    cardSizePrimary: {\r\n        backgroundColor: theme.palette.primary.main\r\n    },\r\n    cardSizeText: {\r\n        color: theme.palette.getContrastText(theme.palette.grey[300]),\r\n        fontSize: \"1.71rem\",\r\n        verticalAlign: \"middle\",\r\n        fontWeight: theme.typography.fontWeightBold\r\n    },\r\n    cardSizeTextPrimary: {\r\n        color: theme.palette.getContrastText(theme.palette.primary.main)\r\n    },\r\n    cardContent: {\r\n        flexGrow: 1,\r\n        overflow: \"hidden\"\r\n    },\r\n    storeStockText: {\r\n        fontSize: theme.typography.fontSize,\r\n        fontWeight: theme.typography.fontWeightBold\r\n    },\r\n    onlineStockText: {\r\n        fontSize: theme.typography.fontSize,\r\n        fontWeight: theme.typography.fontWeightRegular\r\n    }\r\n}))\r\n\r\n// array of conversion values\r\nconst SizeGuide = {\r\n    letter: [\r\n        { size: \"S\", equiv: \"3-4\", gender: \"W\" },\r\n        { size: \"M\", equiv: \"5-6\", gender: \"W\" },\r\n        { size: \"L\", equiv: \"7-8\", gender: \"W\" },\r\n        { size: \"XL\", equiv: \"9-10\", gender: \"W\" },\r\n        { size: \"S\", equiv: \"7-8\", gender: \"M\" },\r\n        { size: \"M\", equiv: \"9-10\", gender: \"M\" },\r\n        { size: \"L\", equiv: \"11-12\", gender: \"M\" },\r\n        { size: \"XL\", equiv: \"13-14\", gender: \"M\" }\r\n    ],\r\n    eu: [\r\n        { uk: 1, eu: 21 },\r\n        { uk: 2, eu: 22 },\r\n        { uk: 3, eu: 23 },\r\n        { uk: 4, eu: 24 },\r\n        { uk: 5, eu: 25 },\r\n        { uk: 6, eu: 26 },\r\n        { uk: 7, eu: 27 },\r\n        { uk: 8, eu: 28 },\r\n        { uk: 9, eu: 29 },\r\n        { uk: 10, eu: 30 },\r\n        { uk: 11, eu: 31 },\r\n        { uk: 12, eu: 32 },\r\n        { uk: 13, eu: 33 },\r\n        { uk: 1, eu: 34 },\r\n        { uk: 2, eu: 35 },\r\n        { uk: 3, eu: 36 },\r\n        { uk: 4, eu: 37 },\r\n        { uk: 5, eu: 38 },\r\n        { uk: 6, eu: 39 },\r\n        { uk: 7, eu: 40 },\r\n        { uk: 8, eu: 41 },\r\n        { uk: 9, eu: 42 },\r\n        { uk: 10, eu: 43 },\r\n        { uk: 11, eu: 44 },\r\n        { uk: 12, eu: 45 },\r\n        { uk: 13, eu: 46 },\r\n        { uk: 14, eu: 47 },\r\n        { uk: 15, eu: 48 }\r\n    ]\r\n}\r\n\r\n// maps letter sizes to a size range as detailed above in \"SizeGuide\"\r\n// e.g. \"S\" is equivalent to sizes 3-4 in ladies and 7-8 in mens.\r\nconst letterSizeToRange = (size = \"\", gender = \"W\") =>\r\n    SizeGuide.letter.filter(\r\n        ({ size: valSize, gender: valGend }) => valSize === size.toUpperCase() && valGend === gender.toUpperCase()\r\n    )?.[0]?.equiv ?? \"unavailable\"\r\n\r\n// determine sizing type - will return a string containing one of:\r\n// \"EU\" for European sizing, \"UK\" for UK sizing or \"SML\" for letter\r\n// sizing (S, M, L, XL)\r\nconst determineSizeType = (size = \"\") => {\r\n    if (size.replace(/[A-Z]/gi, \"\").length)\r\n        return Number(size) > 15 ? \"EU\" : \"UK\"\r\n\r\n    return \"SML\"\r\n}\r\n\r\n// maps EU sizes to a best-guess UK equivalent\r\nconst euSizeToUK = (size = \"\", gender = \"W\") => {\r\n    const euSize = Math.floor(Number(size) + .5)\r\n    const matchedSize = SizeGuide.eu.filter(({ eu }) => eu === euSize)\r\n\r\n    return matchedSize?.[0]?.uk - (gender === \"W\" ? 0 : 1) ?? \"unavailable\"\r\n}\r\n\r\nconst ProductStockSize = ({\r\n    styleCode = \"\",\r\n    size = {},\r\n    category = \"\"\r\n}) => {\r\n    const classes = useStyles()\r\n\r\n    const {\r\n        store: {\r\n            id: storeId,\r\n            name: storeName\r\n        }\r\n    } = EphemeralStore\r\n\r\n    const [ inStock, setInStock ] = useState(false)\r\n    const [ isLoading, setLoading ] = useState(false)\r\n    const [ stockRequested, setRequested ] = useState(false)\r\n    const [ hasError, setError ] = useState(false)\r\n\r\n    const onCardClicked = evt => {\r\n        evt.preventDefault()\r\n\r\n        setRequested(true)\r\n        setLoading(true)\r\n\r\n        return fetch(`${process.env.REACT_APP_API_URL}/api/stock/${storeId}/${styleCode}${size.code}`)\r\n            .then(res => res.json()).then(({ result }) => {\r\n                setInStock(result?.inStock)\r\n            })\r\n        .catch(err => setError(err.message))\r\n        .finally(() => setLoading(false))\r\n    }\r\n\r\n    const sizeType = determineSizeType(size.size)\r\n    const sizeTooltipContent = sizeType === \"EU\"\r\n                        ? `UK Size ${euSizeToUK(size.size, category?.[0]?.[0]?.toUpperCase())} (est.)`\r\n                        : sizeType === \"UK\"\r\n                            ? \"\"\r\n                            : `UK Size ${letterSizeToRange(size.size, category?.[0]?.[0]?.toUpperCase())} (est.)`\r\n\r\n    return (\r\n        <Card elevation={0} className={classes.sizeCard} key={size.code}>\r\n            <Tooltip title={sizeTooltipContent} placement=\"top\">\r\n                <CardActionArea\r\n                    className={classes.cardMain}\r\n                    onClick={onCardClicked}\r\n                >\r\n                    <div className={\r\n                        clsx(classes.cardSize, {\r\n                            [classes.cardSizePrimary]: inStock\r\n                        })\r\n                    }>\r\n                        <Typography variant=\"h6\" className={\r\n                            clsx(classes.cardSizeText, {\r\n                                [classes.cardSizeTextPrimary]: inStock\r\n                            })\r\n                        }>\r\n                            {\r\n                                isLoading\r\n                                    ? <CentreSpinner size=\"1.71rem\" />\r\n                                    : size.size\r\n                            }\r\n                        </Typography>\r\n                    </div>\r\n\r\n                    <CardContent className={classes.cardContent}>\r\n                        <Typography variant=\"h6\" className={classes.storeStockText}>\r\n                            {\r\n                                hasError\r\n                                    ? \"An error ocurred\"\r\n                                    : inStock\r\n                                        ? `In stock in ${storeName}`\r\n                                        : isLoading\r\n                                            ? \"Checking the stock room...\"\r\n                                            : stockRequested\r\n                                                ? `Out of stock in ${storeName}`\r\n                                                : `Tap to check stock in ${storeName}`\r\n                            }\r\n                        </Typography>\r\n\r\n                        <Typography variant=\"h6\" className={classes.onlineStockText}>\r\n                            {\r\n                                (size.stock.warehouse > 0)\r\n                                    ? `x${size.stock.warehouse?.toLocaleString()} in stock online`\r\n                                    : \"Out of stock online\"\r\n                            }\r\n                        </Typography>\r\n                    </CardContent>\r\n                </CardActionArea>\r\n            </Tooltip>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default view(ProductStockSize)\r\n","import React from \"react\"\r\n\r\nimport { Grid } from \"@material-ui/core\"\r\n\r\nimport ProductStockSize from \"./product-stock-size\"\r\n\r\nconst ProductStock = ({ styleCode = \"\", sizeRange = [], category = \"\", ...props }) => {\r\n    return (\r\n        <Grid container spacing={.5} {...props}>\r\n            {\r\n                sizeRange.map(size => (\r\n                    <Grid item xs={12} key={size.code}>\r\n                        <ProductStockSize\r\n                            styleCode={styleCode}\r\n                            size={size}\r\n                            category={category}\r\n                        />\r\n                    </Grid>\r\n                ))\r\n            }\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default ProductStock\r\n","import React, { useLayoutEffect } from \"react\"\r\nimport { useParams } from \"react-router-dom\"\r\n\r\nimport { Helmet } from \"react-helmet\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport PersistentStore from \"../stores/persistentStore\"\r\n\r\nimport { Typography, Breadcrumbs, Fab, Tooltip } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport { Alert, AlertTitle } from \"@material-ui/lab\"\r\n\r\nimport BreadcrumbSeparatorIcon from \"@material-ui/icons/NavigateNext\"\r\nimport ShopIcon from \"@material-ui/icons/ShoppingCart\"\r\n\r\nimport useAPI from \"../hooks/useAPI\"\r\nimport CentreSpinner from \"../components/centre-spinner\"\r\nimport ProductStock from \"../components/product-stock\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    prodTitle: {\r\n        fontSize: \"1.71rem\",\r\n        textOverflow: \"ellipsis\",\r\n        whiteSpace: \"nowrap\",\r\n        overflow: \"hidden\",\r\n        display: \"block\"\r\n    },\r\n    categoriesContainer: {\r\n        display: \"flex\"\r\n    },\r\n    catBreadcrumbs: {\r\n        flexGrow: 1\r\n    },\r\n    catCrumb: {\r\n        fontSize: \"0.86rem\",\r\n        fontWeight: theme.typography.fontWeightBold,\r\n        color: theme.palette.text.disabled\r\n    },\r\n    priceText: {\r\n        fontSize: \"1.71rem\",\r\n        fontWeight: theme.typography.fontWeightRegular,\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    coverImage: {\r\n        display: \"flex\",\r\n        position: \"relative\",\r\n        width: \"100%\",\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        overflow: \"hidden\",\r\n        borderRadius: theme.shape.borderRadius,\r\n        margin: theme.spacing(1, 0),\r\n        border: `1px solid ${theme.palette.divider}`\r\n    },\r\n    productThumb: {\r\n        width: \"100%\"\r\n    },\r\n    fabCoverImage: {\r\n        position: \"absolute\",\r\n        bottom: theme.spacing(2),\r\n        right: theme.spacing(2)\r\n    },\r\n    stockSizeContainer: {\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    offersContainer: {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        marginTop: theme.spacing(1),\r\n        alignItems: \"end\",\r\n        justifyContent: \"flex-end\",\r\n        flexDirection: \"row\",\r\n        position: \"absolute\",\r\n        top: 0,\r\n        left: 0,\r\n        padding: theme.spacing(2, 3, 0, 2)\r\n    },\r\n    offerIcon: {\r\n        width: 96,\r\n        height: 96,\r\n        flexGrow: 0,\r\n        display: \"inline-block\"\r\n    }\r\n}))\r\n\r\nconst ProductView = () => {\r\n    const classes = useStyles()\r\n    const { style } = useParams()\r\n\r\n    const [ info, loading, err ] = useAPI(`/product/${style}`)\r\n\r\n    useLayoutEffect(() => {\r\n        (() => {\r\n            if (!loading && !err && info?.name)\r\n                PersistentStore.pushHistory(info)\r\n        })()\r\n    })\r\n\r\n    if (loading) {\r\n        return (\r\n            <>\r\n                <Helmet title=\"Loading...\" />\r\n                <CentreSpinner />\r\n            </>\r\n        )\r\n    } else if (err || !info?.name) {\r\n        return (\r\n            <>\r\n                <Helmet title=\"Error\" />\r\n\r\n                <Alert severity=\"error\">\r\n                    <AlertTitle>Error</AlertTitle>\r\n                    {\r\n                        err\r\n                        ? `${err}`\r\n                        : !info?.name\r\n                            ? <><strong>{style}</strong> could not be found</>\r\n                            : \"Failed to fetch data\"\r\n                    }\r\n                </Alert>\r\n            </>\r\n        )\r\n    } else {\r\n        return (\r\n            <div>\r\n                <Helmet title={info?.name} />\r\n\r\n                <Typography variant=\"h2\" className={classes.prodTitle}>\r\n                    {info?.name}\r\n                </Typography>\r\n\r\n                <div className={classes.categoriesContainer}>\r\n                    <Breadcrumbs\r\n                        separator={\r\n                            <BreadcrumbSeparatorIcon className={classes.catCrumb} />\r\n                        }\r\n                        className={classes.catBreadcrumbs}\r\n                    >\r\n                        {\r\n                            info?.categories?.map(category => (\r\n                                <Typography className={classes.catCrumb}>\r\n                                    {category}\r\n                                </Typography>\r\n                            ))\r\n                        }\r\n                    </Breadcrumbs>\r\n\r\n                    <Typography className={classes.catCrumb}>\r\n                        { info?.id }\r\n                    </Typography>\r\n                </div>\r\n\r\n                <Typography variant=\"body2\" className={classes.priceText}>\r\n                    {info?.currency === \"GBP\" ? \"\\u00A3\" : \"\\u20AC\"}\r\n                    {info?.price?.current}\r\n                </Typography>\r\n\r\n                <div className={classes.coverImage}>\r\n                    <div className={classes.offersContainer}>\r\n                        {\r\n                            info?.offers?.map(offer => (\r\n                                <Tooltip title={`This item is in the ${offer?.abbr ?? offer?.name} offer`} placement=\"top\">\r\n                                    <img\r\n                                        src={offer?.image}\r\n                                        alt={offer?.name}\r\n                                        className={classes.offerIcon}\r\n                                        />\r\n                                </Tooltip>\r\n                            ))\r\n                        }\r\n                    </div>\r\n\r\n                    <img\r\n                        src={info?.thumbnail}\r\n                        alt={info?.name}\r\n                        className={classes.productThumb}\r\n                    />\r\n\r\n                    <Tooltip title=\"View on Shoe Zone\" placement=\"top\">\r\n                        <Fab\r\n                            color=\"primary\"\r\n                            aria-label=\"View on Shoe Zone\"\r\n                            className={classes.fabCoverImage}\r\n                            component=\"a\"\r\n                            target=\"_blank\"\r\n                            href={`https://www.shoezone.com/Products/--${info?.id}`}\r\n                        >\r\n                            <ShopIcon />\r\n                        </Fab>\r\n                    </Tooltip>\r\n                </div>\r\n\r\n                <Alert severity=\"info\">\r\n                    Hold down a size to see the estimated UK conversions and more information.\r\n                </Alert>\r\n\r\n                <ProductStock\r\n                    styleCode={info?.id}\r\n                    sizeRange={info?.sizeRange}\r\n                    className={classes.stockSizeContainer}\r\n                    category={info.categories?.[0]}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default view(ProductView)\r\n","import React from \"react\"\r\n\r\nimport { view } from \"@risingstack/react-easy-state\"\r\nimport EphemeralStore from \"../stores/ephemeralStore\"\r\n\r\nimport { Helmet } from \"react-helmet\"\r\n\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\"\r\nimport { CssBaseline } from \"@material-ui/core\"\r\nimport { makeStyles, createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\"\r\n\r\nimport Header from \"./header\"\r\nimport ScannerModal from \"./scanner-modal\"\r\nimport CentreSpinner from \"./centre-spinner\"\r\n\r\nimport HomeView from \"../views/index\"\r\nimport ProductView from \"../views/product\"\r\nimport { Alert, AlertTitle } from \"@material-ui/lab\"\r\n\r\nconst defaultTheme = createMuiTheme({\r\n  typography: {\r\n    fontFamily: `Montserrat, Helvetica, Arial, sans-serif`,\r\n  },\r\n  palette: {\r\n    primary: {\r\n      main: \"#002F87\"\r\n    }\r\n  }\r\n})\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    overflow: \"hidden\",\r\n    padding: theme.spacing(2),\r\n    maxWidth: 500,\r\n    margin: `${theme.spacing(1)}px auto`\r\n  },\r\n  geoError: {\r\n    marginTop: theme.spacing(2)\r\n  }\r\n}))\r\n\r\nconst App = () => {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div>\r\n      <CssBaseline />\r\n\r\n      <Helmet\r\n        titleTemplate=\"%s - we♥shoes\"\r\n        defaultTitle=\"we♥shoes\"\r\n        title={\r\n          EphemeralStore.store.error\r\n            ? \"Oops!\"\r\n            : \"Loading...\"\r\n        }\r\n      />\r\n\r\n      <ThemeProvider theme={defaultTheme}>\r\n        <div className={classes.root}>\r\n          <Router>\r\n            <Header />\r\n\r\n            {\r\n              EphemeralStore.store.error\r\n                ? (\r\n                  <Alert severity=\"error\" className={classes.geoError}>\r\n                    <AlertTitle>Error</AlertTitle>\r\n                    {\r\n                      EphemeralStore.store.error?.toLowerCase()?.indexOf(\"denied\") > -1\r\n                        ? \"Please allow location access to use the app.\"\r\n                        : EphemeralStore.store.error\r\n                    }\r\n                  </Alert>\r\n                )\r\n                : EphemeralStore.store.name\r\n                  ? <Switch>\r\n                      <Route path=\"/\" exact component={HomeView} />\r\n                      <Route path=\"/product/:style\" component={ProductView} />\r\n                    </Switch>\r\n                  : <CentreSpinner />\r\n            }\r\n\r\n            <ScannerModal />\r\n          </Router>\r\n        </div>\r\n      </ThemeProvider>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default view(App)\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\n\r\nimport * as serviceWorker from \"./serviceWorker\"\r\n\r\nimport App from \"./components/app\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n\r\n  document.querySelector(\"#app\")\r\n)\r\n\r\nserviceWorker.register()\r\n"],"sourceRoot":""}