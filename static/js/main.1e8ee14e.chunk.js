(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{209:function(e,t,a){e.exports=a(307)},307:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),l=a.n(o),i=a(13),c=a(45),s=a.n(c),d=a(70),u=a(56);const m=Object(i.b)({store:{},fflags:{},scanOpen:!1,tillCardDialogueOpen:!1,fetchNearestStore:function(){var e=Object(d.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((e,t)=>{if(!navigator.geolocation)return t("Geolocation API is not supported");navigator.geolocation.getCurrentPosition(e,t,{enableHighAccuracy:!1})}).then(({coords:{latitude:e,longitude:t}})=>({lat:e,lon:t})).then(({lat:e,lon:t})=>fetch("".concat(u.endpoints.api,"/api/locate/?lat=").concat(e,"&lon=").concat(t))).then(e=>e.json()).then(({result:e})=>{m.store={name:e.storeName,id:e.storeId}}).catch(e=>{m.store.error=e.message}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()});var p=m,h=a(57),g=a(42),f=a(16),v=a(363),y=a(198),b=a(339),E=a(364),C=a(366),w=a(362),O=a(105),k=a(186),x=a.n(k),S=a(15),j=a(370),N=a(371),T=a(342),z=a(343),W=a(367),I=a(346),B=a(185),R=a.n(B);const D=Object(b.a)(e=>({root:{width:"100%",margin:e.spacing(3,0)},codeInputBox:{borderRadius:e.shape.borderRadius,"& input::-webkit-outer-spin-button, input::-webkit-inner-spin-button":{WebkitAppearance:"none"}}}));var P=Object(i.c)(()=>{const e=Object(n.useState)(),t=Object(S.a)(e,2),a=t[0],o=t[1],l=D(),i=Object(f.f)();return r.a.createElement("div",{className:l.root},r.a.createElement("form",{onSubmit:e=>{e.preventDefault();let t=a.trim().replace(/[^\d]/g,"");t.length-3<5||(t=t.substr(0,t.length-3)),i.push("/product/".concat(t))}},r.a.createElement(j.a,{variant:"filled",fullWidth:!0},r.a.createElement(N.a,{htmlFor:"product-code-search"},"Product code"),r.a.createElement(T.a,{id:"product-code-search",type:"number",min:Object({NODE_ENV:"production",PUBLIC_URL:"/we-heart-shoes-staff-pwa"}).REACT_APP_MIN_PRODUCT_CODE,max:Object({NODE_ENV:"production",PUBLIC_URL:"/we-heart-shoes-staff-pwa"}).REACT_APP_MAX_PRODUCT_CODE,endAdornment:r.a.createElement(z.a,{position:"end"},r.a.createElement(W.a,{title:"Scan a barcode",arrow:!0},r.a.createElement(I.a,{"aria-label":"Scan a barcode",edge:"end",onClick:e=>{e.preventDefault(),p.scanOpen=!0}},r.a.createElement(R.a,null)))),disableUnderline:!0,autoComplete:"off",className:l.codeInputBox,onInput:({target:{value:e}})=>o(e)}))))});const L=Object(b.a)(e=>({root:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column"},headerTitle:{fontWeight:e.typography.fontWeightBold,color:e.palette.primary.main,fontSize:"1.71rem"},headerTitleLink:{textDecoration:"none"},headerStoreInfo:{textTransform:"uppercase",fontWeight:e.typography.fontWeightBold,fontSize:"0.85rem",color:e.palette.grey[600]}}));var U=Object(i.c)(()=>{const e=L();return Object(n.useEffect)(()=>{p.fetchNearestStore()},[]),r.a.createElement("header",{className:e.root},r.a.createElement(g.b,{to:"/",className:e.headerTitleLink},r.a.createElement(O.a,{variant:"h4",component:"h1",className:e.headerTitle},"we",r.a.createElement(x.a,null),"shoes")),r.a.createElement(O.a,{variant:"body1",component:"p",className:e.headerStoreInfo},p.store.error?"":p.store.name?"".concat(p.store.name," - ").concat(p.store.id):"Determining Location..."),p.store.name?r.a.createElement(P,null):"")}),M=a(311),H=a(309),_=a(345),A=a(202),q=a(187),G=a.n(q);const F=Object(b.a)(e=>({modalContainer:{padding:e.spacing(2),margin:"".concat(e.spacing(4),"px auto"),maxWidth:500},modalPaper:{outline:0,flexGrow:1,width:"100%",padding:e.spacing(1),borderRadius:2*e.shape.borderRadius,"& video":{marginBottom:e.spacing(-1)+1,borderRadius:e.shape.borderRadius}}}));var K=Object(i.c)(()=>{const e=F(),t=Object(f.f)(),a=()=>p.scanOpen=!1,o=Object(n.useState)(),l=Object(S.a)(o,2),i=l[0],c=l[1];return Object(n.useEffect)(()=>c(null),[p.scanOpen]),Object(n.useEffect)(()=>{"?scan"!==t.location.search||p.scanOpen||(p.scanOpen=!0)}),r.a.createElement(M.a,{open:p.scanOpen,onClose:a,BackdropComponent:H.a,className:e.modalContainer},r.a.createElement(_.a,{in:p.scanOpen},r.a.createElement(A.a,{className:e.modalPaper},r.a.createElement(G.a,{width:"100%",height:"100%",onUpdate:(e,n)=>{var r;if(e||!n)return;const o=(null!==(r=n.text)&&void 0!==r?r:"").trim().replace(/[^\d]/g,""),l=o.length-3<5?o:o.substr(0,o.length-3);if(i===l)return a();c(l),a(),t.push("/product/".concat(l))}}))))}),V=a(347);const J=Object(b.a)(e=>({root:{display:"block",margin:"".concat(e.spacing(3),"px auto")}}));var X=(...e)=>{const t=J();return r.a.createElement(V.a,Object.assign({className:t.root},e))},Z=a(348),Q=a(188),Y=a.n(Q);const $=Object(b.a)(e=>({root:{position:"fixed",bottom:e.spacing(3),right:e.spacing(3)}}));var ee=()=>{const e=Object(f.g)().pathname,t=$();return r.a.createElement("div",null,r.a.createElement(_.a,{in:"/"!==e,className:t.root},r.a.createElement(W.a,{title:"History",placement:"top"},r.a.createElement(Z.a,{color:"primary","aria-label":"History",component:g.b,to:"/",className:t.root},r.a.createElement(Y.a,null)))))},te=a(368),ae=a(349),ne=a(350);const re=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function oe(e){if("serviceWorker"in navigator){if(new URL("/we-heart-shoes-staff-pwa",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="".concat("/we-heart-shoes-staff-pwa","/service-worker.js");re?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(a=>{const n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):le(e,t)}).catch(()=>{})}(t,e),navigator.serviceWorker.ready.then(()=>{})):le(t,e)})}}function le(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=(()=>{const a=e.installing;null!=a&&(a.onstatechange=(()=>{"installed"===a.state&&(navigator.serviceWorker.controller?t&&t.onUpdate&&t.onUpdate(e):t&&t.onSuccess&&t.onSuccess(e))}))})}).catch(e=>{console.error("Error during service worker registration:",e)})}var ie=()=>{const e=Object(n.useState)(!1),t=Object(S.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(),i=Object(S.a)(l,2),c=i[0],s=i[1],d=({waiting:e})=>{s(e),o(!0)};return Object(n.useEffect)(()=>{oe({onUpdate:d})},[]),r.a.createElement(te.a,{open:a,onClick:()=>o(!1),action:r.a.createElement(ae.a,{color:"inherit",size:"small",onClick:e=>{e.preventDefault(),o(!1),c&&c.postMessage({type:"SKIP_WAITING"}),window.location.reload()}},"Reload"),message:"A new version has been installed!",TransitionComponent:ne.a})},ce=a(104);const se=JSON.parse(localStorage.getItem("_state")),de=Object(i.b)({data:Object(ce.a)({tillCardId:null,history:[]},se),pushHistory:function(){var e=Object(d.a)(s.a.mark(function e(t){var a,n,r,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=void 0,e.t0=s.a.keys(de.data.history);case 2:if((e.t1=e.t0()).done){e.next=9;break}if(r=e.t1.value,de.data.history[r].StyleCode!==t.id){e.next=7;break}return n=r,e.abrupt("break",9);case 7:e.next=2;break;case 9:for(o={StyleCode:t.id,Name:t.name,Price:t.price.current,Currency:t.currency,Thumbnail:t.thumbnail,Offers:null!==(a=t.offers)&&void 0!==a?a:[]},void 0===n?de.data.history.unshift(o):(de.data.history[n]=Object(ce.a)(Object(ce.a)({},de.data.history[n]),o),de.data.history.splice(0,0,de.data.history.splice(n,1)[0]));de.data.history.length>u.historyMaxItems;)de.data.history.pop();case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),clearHistory:function(){var e=Object(d.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",de.data.history=[]);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),setTillCard:function(){var e=Object(d.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",de.data.tillCardId=t);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()});Object(i.a)(()=>{localStorage.setItem("_state",JSON.stringify(de.data))});var ue=de,me=a(106),pe=a(351),he=a(352),ge=a(353),fe=a(354),ve=a(355);const ye=Object(b.a)(e=>({productCard:{backgroundColor:e.palette.grey[300],maxHeight:72},cardRoot:{display:"flex",flexDirection:"row",alignItems:"start"},cardThumb:{height:64,width:64,margin:e.spacing(.5),backgroundColor:"white",borderRadius:.5*e.shape.borderRadius,flexShrink:0,flexGrow:0},cardContent:{flexGrow:1,padding:e.spacing(.5),overflow:"hidden"},cardTitle:{fontSize:"1rem",fontWeight:e.typography.fontWeightBold,width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},cardStyleCode:{fontSize:"0.71rem",fontWeight:e.typography.fontWeightBold,color:e.palette.grey[600],marginTop:"-0.29rem"},cardOffers:{fontSize:"0.71rem",fontWeight:e.typography.fontWeightBold,color:e.palette.grey[600],marginTop:"-0.29rem"},cardPrice:{fontSize:"1rem",fontWeight:e.typography.fontWeightRegular,marginTop:"auto"},miniInfo:{display:"flex",flexDirection:"row"},flexSpacer:{display:"block",flexGrow:1}}));var be=Object(i.c)(()=>{const e=ye();return r.a.createElement(pe.a,{container:!0,spacing:1},ue.data.history.map(t=>{var a;return r.a.createElement(pe.a,{item:!0,xs:12,key:t.StyleCode},r.a.createElement(he.a,{elevation:0,className:e.productCard},r.a.createElement(ge.a,{component:g.b,to:"/product/".concat(t.StyleCode),className:e.cardRoot},r.a.createElement(fe.a,{image:t.Thumbnail,title:t.Name,className:e.cardThumb}),r.a.createElement(ve.a,{className:e.cardContent},r.a.createElement(O.a,{component:"h5",className:e.cardTitle},t.Name),r.a.createElement("div",{className:e.miniInfo},r.a.createElement(O.a,{variant:"subtitle1",className:e.cardStyleCode},t.StyleCode),r.a.createElement("div",{className:e.flexSpacer}),null===t||void 0===t?void 0:null===(a=t.Offers)||void 0===a?void 0:a.map(t=>{var a;return r.a.createElement(O.a,{variant:"subtitle1",className:e.cardOffers},null!==(a=null===t||void 0===t?void 0:t.abbr)&&void 0!==a?a:null===t||void 0===t?void 0:t.name)})),r.a.createElement(O.a,{variant:"body1",className:e.cardPrice},"EUR"===(null===t||void 0===t?void 0:t.Currency)?"\u20ac":"\xa3",t.Price)))))}))}),Ee=a(189),Ce=a(191),we=a.n(Ce),Oe=a(192),ke=a.n(Oe),xe=a(3),Se=a(37),je=a(356),Ne=a(357),Te=a(358),ze=a(359),We=a(360),Ie=a(365),Be=a(361),Re=a(190),De=a.n(Re);const Pe=Object(b.a)(e=>({dimmedButton:{color:e.palette.grey[500]},deleteIcon:{marginRight:"auto"},confirmButton:{fontWeight:e.typography.fontWeightBold}}));var Le=Object(i.c)(()=>{const e=Object(n.useState)(),t=Object(S.a)(e,2),a=t[0],o=t[1],l=Pe(),i=Object(Se.a)(),c=Object(je.a)(i.breakpoints.only("xs")),s=()=>p.tillCardDialogueOpen=!1,d=()=>{ue.setTillCard(a),s()};return r.a.createElement(Ne.a,{open:p.tillCardDialogueOpen,onClose:s,fullScreen:c},r.a.createElement(Te.a,null,"Setup Till Card"),r.a.createElement(ze.a,null,r.a.createElement(We.a,null,"Setup your till card for easy access. Scan your phone with the barcode scanner to login. You can use this in both your store and other stores to receive staff discount too."),r.a.createElement(Ie.a,{autoFocus:!0,autoComplete:"off",margin:"dense",id:"name",label:"Till Card Number",helperText:"This is the number you use to login on your till. It is also displayed below the barcode on your physical till card.",defaultValue:ue.data.tillCardId,type:"number",min:1e4,max:99999,fullWidth:!0,onChange:e=>o(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),d())}})),r.a.createElement(Be.a,null,r.a.createElement(W.a,{arrow:!0,title:"Remove Till Card",placement:"top-start"},r.a.createElement(I.a,{"aria-label":"delete",className:Object(xe.a)(l.dimmedButton,l.deleteIcon),onClick:()=>{ue.setTillCard(null),s()}},r.a.createElement(De.a,null))),r.a.createElement(ae.a,{onClick:s,className:l.dimmedButton},"Cancel"),r.a.createElement(ae.a,{onClick:d,color:"primary",className:l.confirmButton},"Finish")))});const Ue=Object(b.a)(e=>({root:{display:"flex",width:"100%",flexDirection:"column"},sectionHeader:{width:"100%",display:"flex",alignItems:"center"},tillCardHeader:{fontWeight:e.typography.fontWeightBold,fontSize:"1rem",flexGrow:1},sectionMainContent:{display:"flex",width:"100vw",flexDirection:"column",alignItems:"center",justifyContent:"center",background:e.palette.background.paper,margin:e.spacing(1,0,2),borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider),alignSelf:"center"},contentContainer:{display:"flex",padding:e.spacing(3,3,2),width:"100%",maxWidth:500,flexDirection:"column",alignItems:"center",justifyContent:"center",alignSelf:"center"},typography:{fontWeight:e.typography.fontWeightBold},setupButton:{margin:e.spacing(2,0)},tillCardCode:{width:"50%",color:e.palette.primary.main,"& *.tcqr-cell-filled":{fill:"currentColor"},"& *.tcqr-cell-empty":{fill:"transparent"},[e.breakpoints.only("xs")]:{width:"80%"}},tillCardCodeText:{fontWeight:e.typography.fontWeightBold,marginTop:e.spacing(1)}}));var Me=Object(i.c)(()=>{const e=Ue(),t=e=>{e.preventDefault(),p.tillCardDialogueOpen=!0};return r.a.createElement("section",{className:e.root},r.a.createElement("div",{className:e.sectionHeader},r.a.createElement(O.a,{variant:"h2",className:e.tillCardHeader},"Till Card"),r.a.createElement(W.a,{title:"Edit Till Card",arrow:!0,placement:"left"},r.a.createElement(I.a,{"aria-label":"edit",size:"small",onClick:t},r.a.createElement(we.a,null)))),r.a.createElement("div",{className:e.sectionMainContent},r.a.createElement("div",{className:e.contentContainer},ue.data.tillCardId?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.QRCode,{value:ue.data.tillCardId,className:e.tillCardCode,cellClassPrefix:"tcqr"}),r.a.createElement(O.a,{variant:"body1",className:e.tillCardCodeText,color:"primary"},ue.data.tillCardId)):r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{variant:"h1",color:"primary",className:e.typography},r.a.createElement(ke.a,{fontSize:"inherit"})),r.a.createElement(O.a,{variant:"h4",color:"primary",className:e.typography},"Till Card"),r.a.createElement(O.a,{variant:"body1",color:"primary"},"Setup your till card for convenient access."),r.a.createElement(ae.a,{variant:"contained",color:"primary",className:e.setupButton,onClick:t},"Setup Card")))),r.a.createElement(Le,null))});const He=Object(b.a)(e=>({historyHeader:{fontWeight:e.typography.fontWeightBold,fontSize:"1rem"},historyClearText:{textTransform:"uppercase",fontWeight:e.typography.fontWeightBold,fontSize:"0.75rem",color:e.palette.grey[600]},historyClearButton:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"start",clear:"both",marginBottom:e.spacing(1)}}));var _e=Object(i.c)(()=>{const e=He(),t=ue.data.history.length;return r.a.createElement("div",null,r.a.createElement(h.a,{title:"Home"}),r.a.createElement(Me,null),t?r.a.createElement(me.a,{className:e.historyClearButton,onClick:e=>{e.preventDefault(),ue.clearHistory()}},r.a.createElement(O.a,{variant:"h2",className:e.historyHeader},"History"),r.a.createElement(O.a,{variant:"body1",className:e.historyClearText},"Clear ",t.toLocaleString()," item",t>1?"s":"")):"",r.a.createElement(be,null))}),Ae=a(369),qe=a(196),Ge=a.n(qe),Fe=a(197),Ke=a.n(Fe);var Ve=(e="",t={})=>{const a=Object(n.useState)({}),r=Object(S.a)(a,2),o=r[0],l=r[1],i=Object(n.useState)(!0),c=Object(S.a)(i,2),s=c[0],d=c[1],m=Object(n.useState)(),p=Object(S.a)(m,2),h=p[0],g=p[1];return Object(n.useEffect)(()=>{d(!0),fetch("".concat(u.endpoints.api,"/api").concat(e),t).then(e=>e.json()).then(({result:e})=>l(e)).catch(e=>{var t;return g(null===(t=e.message)||void 0===t||t)}).finally(()=>d(!1))},[e]),[o,s,h]},Je=a(199),Xe=a(194),Ze=a.n(Xe),Qe=a(195),Ye=a.n(Qe),$e=a(193),et=a.n($e);const tt=Object(b.a)(e=>({sizeCard:{padding:0,backgroundColor:e.palette.background.default},cardMain:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"},cardSize:{width:55,height:55,display:"flex",flexShrink:0,flexGrow:0,backgroundColor:e.palette.grey[300],alignItems:"center",justifyContent:"center",borderRadius:e.shape.borderRadius,marginLeft:e.spacing(1.5)},cardSizePrimary:{backgroundColor:e.palette.primary.main},cardSizeText:{color:e.palette.getContrastText(e.palette.grey[300]),fontSize:"1.71rem",verticalAlign:"middle",fontWeight:e.typography.fontWeightBold},cardSizeTextPrimary:{color:e.palette.getContrastText(e.palette.primary.main)},cardContent:{flexGrow:1,overflow:"hidden"},storeStockText:{fontSize:e.typography.fontSize,fontWeight:e.typography.fontWeightBold},onlineStockText:{fontSize:e.typography.fontSize,fontWeight:e.typography.fontWeightRegular}})),at={letter:[{size:"S",equiv:"3-4",gender:"W"},{size:"M",equiv:"5-6",gender:"W"},{size:"L",equiv:"7-8",gender:"W"},{size:"XL",equiv:"9-10",gender:"W"},{size:"S",equiv:"7-8",gender:"M"},{size:"M",equiv:"9-10",gender:"M"},{size:"L",equiv:"11-12",gender:"M"},{size:"XL",equiv:"13-14",gender:"M"}],eu:[{uk:1,eu:21},{uk:2,eu:22},{uk:3,eu:23},{uk:4,eu:24},{uk:5,eu:25},{uk:6,eu:26},{uk:7,eu:27},{uk:8,eu:28},{uk:9,eu:29},{uk:10,eu:30},{uk:11,eu:31},{uk:12,eu:32},{uk:13,eu:33},{uk:1,eu:34},{uk:2,eu:35},{uk:3,eu:36},{uk:4,eu:37},{uk:5,eu:38},{uk:6,eu:39},{uk:7,eu:40},{uk:8,eu:41},{uk:9,eu:42},{uk:10,eu:43},{uk:11,eu:44},{uk:12,eu:45},{uk:13,eu:46},{uk:14,eu:47},{uk:15,eu:48}]};var nt=Object(i.c)(({styleCode:e="",size:t={},category:a="",autoCheck:o=!1,useIcon:l=!1})=>{var i,c,s,d,m;const h=tt(),g=p.store,f=g.id,v=g.name,y=Object(n.useState)(!1),b=Object(S.a)(y,2),E=b[0],C=b[1],w=Object(n.useState)(!1),k=Object(S.a)(w,2),x=k[0],j=k[1],N=Object(n.useState)(!1),T=Object(S.a)(N,2),z=T[0],I=T[1],B=Object(n.useState)(!1),R=Object(S.a)(B,2),D=R[0],P=R[1],L=()=>(I(!0),j(!0),fetch("".concat(u.endpoints.api,"/api/stock/").concat(f,"/").concat(e).concat(t.code)).then(e=>e.json()).then(({result:e})=>{C(null===e||void 0===e?void 0:e.inStock)}).catch(e=>P(e.message)).finally(()=>j(!1))),U=((e="")=>e.replace(/[A-Z]/gi,"").length?Number(e)>15?"EU":"UK":"SML")(t.size),M="EU"===U?"UK Size ".concat(((e="",t="W")=>{var a,n;const r=Math.floor(Number(e)+.5),o=at.eu.filter(({eu:e})=>e===r);return null!==(a=(null===o||void 0===o?void 0:null===(n=o[0])||void 0===n?void 0:n.uk)-("W"===t?0:1))&&void 0!==a?a:"unavailable"})(t.size,null===a||void 0===a?void 0:null===(i=a[0])||void 0===i?void 0:null===(c=i[0])||void 0===c?void 0:c.toUpperCase())," (est.)"):"UK"===U?"":"UK Size ".concat(((e="",t="W")=>{var a,n,r;return null!==(a=null===(n=at.letter.filter(({size:a,gender:n})=>a===e.toUpperCase()&&n===t.toUpperCase()))||void 0===n?void 0:null===(r=n[0])||void 0===r?void 0:r.equiv)&&void 0!==a?a:"unavailable"})(t.size,null===a||void 0===a?void 0:null===(s=a[0])||void 0===s?void 0:null===(d=s[0])||void 0===d?void 0:d.toUpperCase())," (est.)");return Object(n.useLayoutEffect)(()=>{o&&L()},[]),r.a.createElement(he.a,{elevation:0,className:h.sizeCard,key:t.code},r.a.createElement(W.a,{title:M,placement:"top"},r.a.createElement(ge.a,{className:h.cardMain,onClick:e=>{e.preventDefault(),L()}},r.a.createElement("div",{className:Object(xe.a)(h.cardSize,{[h.cardSizePrimary]:E})},r.a.createElement(O.a,{variant:"h6",className:Object(xe.a)(h.cardSizeText,{[h.cardSizeTextPrimary]:E})},x?r.a.createElement(X,{size:"1.71rem"}):l?z?E?r.a.createElement(et.a,null):r.a.createElement(Ze.a,null):r.a.createElement(Ye.a,null):t.size)),r.a.createElement(ve.a,{className:h.cardContent},r.a.createElement(O.a,{variant:"h6",className:h.storeStockText},D?"An error ocurred":E?"In stock in ".concat(v):x?"Checking the stock room...":z?"Out of stock in ".concat(v):"Tap to check stock in ".concat(v)),r.a.createElement(O.a,{variant:"h6",className:h.onlineStockText},t.stock.warehouse>0?"x".concat(null===(m=t.stock.warehouse)||void 0===m?void 0:m.toLocaleString()," in stock online"):"Out of stock online")))))});var rt=e=>{let t=e.styleCode,a=void 0===t?"":t,n=e.sizeRange,o=void 0===n?[]:n,l=e.category,i=void 0===l?"":l,c=Object(Je.a)(e,["styleCode","sizeRange","category"]);return r.a.createElement(pe.a,Object.assign({container:!0,spacing:.5},c),o.map(e=>r.a.createElement(pe.a,{item:!0,xs:12,key:e.code},r.a.createElement(nt,{styleCode:a,size:e,category:i,autoCheck:1===o.length,useIcon:1===o.length}))))};const ot=Object(b.a)(e=>({prodTitle:{fontSize:"1.71rem",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",display:"block"},categoriesContainer:{display:"flex"},catBreadcrumbs:{flexGrow:1},catCrumb:{fontSize:"0.86rem",fontWeight:e.typography.fontWeightBold,color:e.palette.text.disabled},priceText:{fontSize:"1.71rem",fontWeight:e.typography.fontWeightRegular,marginTop:e.spacing(1)},coverImage:{display:"flex",position:"relative",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center",overflow:"hidden",borderRadius:e.shape.borderRadius,margin:e.spacing(1,0),border:"1px solid ".concat(e.palette.divider)},productThumb:{width:"100%"},fabCoverImage:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)},stockSizeContainer:{marginTop:e.spacing(1)},offersContainer:{display:"flex",width:"100%",marginTop:e.spacing(1),alignItems:"end",justifyContent:"flex-end",flexDirection:"row",position:"absolute",top:0,left:0,padding:e.spacing(2,3,0,2)},offerIcon:{width:96,height:96,flexGrow:0,display:"inline-block"},productDescription:{margin:e.spacing(1,0,3)}}));var lt=Object(i.c)(()=>{const e=ot(),t=Object(f.h)().style,a=Ve("/product/".concat(t)),o=Object(S.a)(a,3),l=o[0],i=o[1],c=o[2];return Object(n.useLayoutEffect)(()=>{!i&&!c&&(null===l||void 0===l?void 0:l.name)&&ue.pushHistory(l)}),i?r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{title:"Loading..."}),r.a.createElement(X,null)):c||!(null===l||void 0===l?void 0:l.name)?r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{title:"Error"}),r.a.createElement(C.a,{severity:"error"},r.a.createElement(w.a,null,"Error"),c?"".concat(c):(null===l||void 0===l?void 0:l.name)?"Failed to fetch data":r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,t)," could not be found"))):r.a.createElement("div",null,r.a.createElement(h.a,{title:null===l||void 0===l?void 0:l.name}),r.a.createElement(O.a,{variant:"h2",className:e.prodTitle},null===l||void 0===l?void 0:l.name),r.a.createElement("div",{className:e.categoriesContainer},r.a.createElement(Ae.a,{separator:r.a.createElement(Ge.a,{className:e.catCrumb}),className:e.catBreadcrumbs},null===l||void 0===l?void 0:null===(s=l.categories)||void 0===s?void 0:s.map(t=>r.a.createElement(O.a,{className:e.catCrumb},t))),r.a.createElement(O.a,{className:e.catCrumb},null===l||void 0===l?void 0:l.id)),r.a.createElement(O.a,{variant:"body2",className:e.priceText},"GBP"===(null===l||void 0===l?void 0:l.currency)?"\xa3":"\u20ac",null===l||void 0===l?void 0:null===(d=l.price)||void 0===d?void 0:d.current),r.a.createElement("div",{className:e.coverImage},r.a.createElement("div",{className:e.offersContainer},null===l||void 0===l?void 0:null===(u=l.offers)||void 0===u?void 0:u.map(t=>{var a;return r.a.createElement(W.a,{title:"This item is in the ".concat(null!==(a=null===t||void 0===t?void 0:t.abbr)&&void 0!==a?a:null===t||void 0===t?void 0:t.name," offer"),placement:"top"},r.a.createElement("img",{src:null===t||void 0===t?void 0:t.image,alt:null===t||void 0===t?void 0:t.name,className:e.offerIcon}))})),r.a.createElement("img",{src:null===l||void 0===l?void 0:l.thumbnail,alt:null===l||void 0===l?void 0:l.name,className:e.productThumb}),r.a.createElement(W.a,{title:"View on Shoe Zone",placement:"top"},r.a.createElement(Z.a,{color:"primary","aria-label":"View on Shoe Zone",className:e.fabCoverImage,component:"a",target:"_blank",href:"https://www.shoezone.com/Products/--".concat(null===l||void 0===l?void 0:l.id)},r.a.createElement(Ke.a,null)))),r.a.createElement("div",{className:e.productDescription},r.a.createElement(O.a,{variant:"h4",className:e.catCrumb},"Description"),r.a.createElement(O.a,{variant:"body2"},null===l||void 0===l?void 0:l.description)),r.a.createElement(C.a,{severity:"info"},"Hold down a size to see the estimated size conversions for European sizes or S/M/L/XL sizing."),r.a.createElement(rt,{styleCode:null===l||void 0===l?void 0:l.id,sizeRange:null===l||void 0===l?void 0:l.sizeRange,className:e.stockSizeContainer,category:null===(m=l.categories)||void 0===m?void 0:m[0]}));var s,d,u,m});const it=Object(y.a)({typography:{fontFamily:"Montserrat, Helvetica, Arial, sans-serif"},palette:{primary:{main:"#002F87"}}}),ct=Object(b.a)(e=>({root:{flexGrow:1,padding:e.spacing(2),maxWidth:500,margin:"".concat(e.spacing(1),"px auto"),position:"relative"},geoError:{marginTop:e.spacing(2)}}));var st=Object(i.c)(()=>{var e,t;const a=ct();return r.a.createElement("div",null,r.a.createElement(v.a,null),r.a.createElement(h.a,{titleTemplate:"%s - we\u2665shoes",defaultTitle:"we\u2665shoes",title:p.store.error?"Oops!":"Loading..."}),r.a.createElement(E.a,{theme:it},r.a.createElement("div",{className:a.root},r.a.createElement(g.a,null,r.a.createElement(U,null),p.store.error?r.a.createElement(C.a,{severity:"error",className:a.geoError},r.a.createElement(w.a,null,"Error"),(null===(e=p.store.error)||void 0===e?void 0:null===(t=e.toLowerCase())||void 0===t?void 0:t.indexOf("denied"))>-1?"Please allow location access to use the app.":p.store.error):p.store.name?r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/",exact:!0,component:_e}),r.a.createElement(f.a,{path:"/product/:style",component:lt})):r.a.createElement(X,null),r.a.createElement(ee,null),r.a.createElement(K,null)),r.a.createElement(ie,null))))});l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(st,null)),document.querySelector("#app"))},56:function(e){e.exports={endpoints:{api:"https://whs-endpoints.glitch.me"},historyMaxItems:12}}},[[209,1,2]]]);
//# sourceMappingURL=main.1e8ee14e.chunk.js.map